# simple-plusutils ä½¿ç”¨æ‰‹å†Œ

## å‰è¨€

è¿™ä¸ªå·¥å…·åŒ…åˆé›†æœ¬èº«æ˜¯æ—©æœŸæˆ‘è‡ªå·±ç•™ç€è‡ªç”¨çš„æ¥ç€...ä¸è¿‡ä¹±ä¸ƒå…«ç³Ÿçš„æƒ³æ³•è¶Šæ¥è¶Šå¤šï¼Œäºæ˜¯ä¹å°±æœ‰äº†è¿™ä¹ˆä¸€ä¸ªå¤§åˆé›†äº†ã€‚è®²é“ç†é‡Œé¢å®ç”¨æ€§çš„ä¸œè¥¿ç¡®å®ä¸å°‘ï¼Œäºæ˜¯å¼€å§‹å†™ä¸ªæ–‡æ¡£è¯•è¯•ã€‚

é¦–å…ˆï¼Œæ–‡æ¡£ä¼šå¯¹æˆ‘è®¤ä¸º **å€¼å¾—ä¸€æ** çš„å·¥å…·ç±»ä¼˜å…ˆè¿›è¡Œä»‹ç»ï¼Œè€Œå…¶ä»–æˆ‘è®¤ä¸ºå¯èƒ½å¹¶ä¸æ˜¯é‚£ä¹ˆå‡ºå½©çš„å·¥å…·ç±»åˆ™ä¼šä»‹ç»çš„æ¯”è¾ƒç®€ç•¥ã€‚ä½†æ˜¯æ ¹æ®ä¸ªäººä¹ æƒ¯ï¼Œjavadocæ–‡æ¡£æˆ‘ä¼šæ ‡æ³¨çš„æ¯”è¾ƒå…¨é¢ï¼Œä»»ä½•ç±»çš„ç»†èŠ‚å‡å¯ä»¥æŸ¥è¯¢javadocæ–‡æ¡£æˆ–è€…é€šè¿‡ä¸‹è½½æºç æŸ¥çœ‹ã€‚

ä¸œè¥¿æ—¶é—´è·¨åº¦è¿˜æŒºå¤§çš„ï¼Œæœ‰å¥½å‡ å¹´å‰å†™çš„ï¼Œæœ‰æœ€è¿‘æ‰æƒ³åˆ°çš„ï¼Œå¯èƒ½æœ‰äº›ä¸œè¥¿æŠ€æœ¯å±‚é¢æ˜æ˜¾ä¸è¶³ï¼Œè¿˜æœ›è°…è§£ã€‚



ç„¶åä»‹ç»é¡ºåºçš„è¯å°±æ˜¯é¡¹ç›®é‡Œä»ä¸Šåˆ°ä¸‹çš„åŒ…ç»“æ„ã€‚

å¦‚æœæˆ‘ä¸ªäººè§‰å¾—æŸä¸ªå·¥å…·åŒ…å€¼å¾—ä»‹ç»ï¼Œæˆ‘ä¼šæ ‡æ³¨ä¸€ä¸ª  **`*`** 

æœ€åï¼Œæˆ‘çš„ä»‹ç»å¯èƒ½ä¼šæœ‰ç‚¹æ•£æ¼«ã€éšæ„ï¼Œæ¯•ç«Ÿæˆ‘ä¹Ÿä¸çŸ¥é“è¯¥æ€ä¹ˆæ­£å„¿å…«ç»çš„ä»‹ç»ä¸€ä¸ªä»€ä¹ˆä¸œè¥¿éƒ½æœ‰çš„å·¥å…·ç®±é¡¹ç›®ï¼Œæ‰€ä»¥å¹²è„†å°±ç”¨åŠèŠå¤©çš„æ–¹å¼å†™æ–‡æ¡£äº†ã€‚



ä¸è¿‡ï¼Œå‡å¦‚çœŸçš„æœ‰äººæƒ³ç”¨ä¸€ç”¨è¯•è¯•çš„è¯ï¼Œæˆ‘å·²ç»å°†é¡¹ç›®ä¸Šä¼ è‡³äº†Mavenä»“åº“ï¼š

> ç‰ˆæœ¬å·ä»¥ä»“åº“ä¸­çš„æœ€æ–°ç‰ˆæœ¬å·ä¸ºå‡†ï¼Œä»“åº“åœ°å€ï¼š
>
> https://mvnrepository.com/artifact/io.github.ForteScarlet.plusutils/simple-plusutils

```xml
<dependency>
    <groupId>io.github.ForteScarlet.plusutils</groupId>
    <artifactId>simple-plusutils</artifactId>
    <version>1.3.2</version>
</dependency>
```

ç äº‘ç”Ÿæˆçš„åœ¨çº¿Javadocæ–‡æ¡£ï¼š[javaDoc](https://apidoc.gitee.com/ForteScarlet/simple-plusutils)




[TOC]



###  MD5ä¸Stringè·å–å¯èƒ½æ¥å£

> `com.forte.utils.ables`

#### StringAble  å­—ç¬¦ä¸²æ¥å£

> `interface`



`StringAble` æ¥å£å®šä¹‰ä¸‰ä¸ªæ¥å£ä»¥è·å–å®ç°ç±»çš„å­—ç¬¦ä¸²ã€‚

#### MD5Able  MD5æ¥å£

>  `interface`



`MD5Able` æ¥å£ç»§æ‰¿ `StringAble` , æä¾›å¤šä¸ª`default`æ–¹æ³•ä»¥åœ¨è·å–å­—ç¬¦ä¸²çš„åŸºç¡€ä¸Šè·å–å…¶å¯¹åº”çš„`MD5`åŠ å¯†å­—ç¬¦ä¸²ã€‚ï¼ˆMD5ç”Ÿæˆä¾èµ–`MD5Utils`ï¼‰



### åŸºç¡€æ•°æ®å·¥å…·

>  `com.forte.utils.basis`



#### CharSequenceUtils  CharSequenceæ“ä½œå·¥å…·ç±»

> `util class`



å­—ç¬¦å·¥å…·ç±»ï¼Œæä¾›ä»¥ä¸‹æ–¹æ³•ï¼š

```java
    /**
     * å»é™¤å‰åç©ºå­—ç¬¦
     */
    public static CharSequence trim(CharSequence s);

    /**
     * æ˜¯å¦ä¸ºç©ºæˆ–è€…null<br>
     * æ­¤å¤„å¦‚æœä»…ç©ºå­—ç¬¦ä¹Ÿä¼šè¢«å½“ä½œempty<br>
     *     å³ä¼šè¿›è¡Œtrimæ“ä½œ
     * @param s
     * @return
     */
    public static boolean isEmpty(CharSequence s);

    /**
     * éå†æ‰€æœ‰å­—ç¬¦
     * @param consumer éå†æ“ä½œ
     * @param s         æ¯ä¸€ä¸ªå­—ç¬¦
     */
    public static void foreach(CharConsumer consumer, CharSequence s);

    /**
     * è½¬åŒ–ä¸º <code> char[] </code>
     */
    public static char[] charArray(CharSequence s);

    /**
     * è½¬åŒ–ä¸º{@link StringBuilder}
     */
    public static StringBuilder toBuilder(CharSequence s);
    /**
     * è½¬åŒ–ä¸º{@link StringBuilder}
     */
    public static StringBuilder toBuilder(int init, CharSequence s);
    /**
     * è½¬åŒ–ä¸º{@link StringBuilder}
     */
    public static StringBuilder toBuilder(String init, CharSequence s);

    /**
     * transform into{@link StringBuilder}
     */
    public static StringBuilder toBuilder(CharSequence init, CharSequence s);
```



#### ExString å­—ç¬¦ä¸²æ‰©å±•å·¥å…·ç±»

> `util class`



`ExString` ç»§æ‰¿ `CharSequenceUtils` å¹¶æä¾›ã€é‡å†™äº†ä¸€éƒ¨åˆ†é’ˆå¯¹å­—ç¬¦ä¸²å¯¹è±¡çš„æ–¹æ³•ã€‚

```java
    /**
     * æ˜¯å¦ä¸ºç©ºï¼ˆåŒ…æ‹¬å…¨éƒ¨ä¸ºç©ºå­—ç¬¦çš„æƒ…å†µï¼‰
     *
     * @param s
     * @return
     */
    public static boolean isEmpty(String s);

    /**
     * æ˜¯å¦ä¸ºç©ºï¼ˆåŒ…æ‹¬å…¨éƒ¨ä¸ºç©ºå­—ç¬¦çš„æƒ…å†µï¼‰
     *
     * @param s
     * @return
     */
    public static boolean isNotEmpty(String s);

    /**
     * å°†ä¸€ä¸ªå­—ç¬¦ä¸²ç­‰é‡çš„å¤åˆ¶nå€é•¿åº¦<br>
     * @param base è¦å¤åˆ¶çš„å­—ç¬¦ä¸²
     */
    public static String repeat(String base, int times);

    /**
     * @see #repeat(String, int)
     */
    public static String repeat(char base, int times);

    /**
     * @see #repeat(String, int)
     */
    public static String repeat(int base, int times);

    /**
     * @see #repeat(String, int)
     */
    public static String repeat(Object base, int times);





    /**
     * è·å–ä¸€ä¸ªå•è¯çš„å…¨éƒ¨æ’åˆ—ç»„åˆï¼Œæ•°é‡ä¸€èˆ¬ä¸º word.length çš„é˜¶ä¹˜é‡
     *
     * @param word è¦è¿›è¡Œæ’åˆ—çš„å­—ç¬¦ä¸²
     * @return æ’åˆ—ç»“æœ
     */
    public static String[] getPermutation(String word);

    /**
     * é€’å½’è·å–å­—ç¬¦ä¸²æ‰€æœ‰æ’åˆ—ç»„åˆ
     *
     * @param out  æ‹¼æ¥ç”¨çš„StringBuilder
     * @param in   å­—ç¬¦ä¸²
     * @param used è®°å½•æ˜¯å¦æ‹¼æ¥è¿‡
     * @param s    æ¯ä¸€ä¸ªç»„åˆçš„è¾“å‡º
     */
    private static void getPermutation(StringBuilder out, String in, boolean[] used, Consumer<String> s);

    /**
     * è·å–é›†åˆçš„æ‰€æœ‰åˆ‡å‰²å¯èƒ½ã€‚
     * <code>
     * abc:
     * - ab
     * - ac
     * - a
     * - b
     * - c
     * - bc
     * </code>
     * @param list å…ƒç´ åˆ—è¡¨
     */
    public static <T> List<List<T>> getCombinations(List<T> list);

    /**
     * è·å–é›†åˆçš„æ‰€æœ‰åˆ‡å‰²å¯èƒ½ã€‚
     * @param list å…ƒç´ åˆ—è¡¨
     */
    public static <T> List<List<T>> getCombinations(T... list);

```







#### ExMath æ•°å­¦æ‰©å±•å·¥å…·ç±»

> `util class`



æ•°å­¦å·¥å…·ç±»æä¾›äº†ä¸€äº›æ–¹æ³•ï¼ˆè²Œä¼¼ç°åœ¨åªæœ‰é˜¶ä¹˜ç›¸å…³çš„ä¸œè¥¿ï¼‰ï¼š

```java
/**
     * è®¡ç®—æŸä¸ªæ•°çš„é˜¶ä¹˜,n!
     * @param n n!
     */
    public static long factorial(long n);

    /**
     * è®¡ç®—æŸä¸ªæ•°çš„é˜¶ä¹˜,n! <br>
     * ä½¿ç”¨bigIntegerè¿›è¡Œè®¡ç®—ï¼Œ ç†è®ºä¸Šå¯è®¡ç®—longèŒƒå›´å†…æ‰€æœ‰å€¼çš„é˜¶ä¹˜å€¼
     * @param n n!
     */
    public static BigInteger factorialBig(BigInteger n);

    /**
     * è®¡ç®—æŸä¸ªæ•°çš„é˜¶ä¹˜,n! <br>
     * ä½¿ç”¨bigIntegerè¿›è¡Œè®¡ç®—
     * @param n n!
     */
    public static BigInteger factorialBig(long n);

    /**
     * è®¡ç®—æŸä¸ªæ•°çš„é˜¶ä¹˜,n!
     * @param n n!
     */
    public static long factorialParallel(long n);

    /**
     * è®¡ç®—æŸä¸ªæ•°çš„é˜¶ä¹˜,n! <br>
     * ä½¿ç”¨bigIntegerè¿›è¡Œè®¡ç®—ï¼Œ ç†è®ºä¸Šå¯è®¡ç®—longèŒƒå›´å†…æ‰€æœ‰å€¼çš„é˜¶ä¹˜å€¼
     * @param n n!
     */
    public static BigInteger factorialBigParallel(BigInteger n);

    /**
     * è®¡ç®—æŸä¸ªæ•°çš„é˜¶ä¹˜,n! <br>
     * ä½¿ç”¨bigIntegerè¿›è¡Œè®¡ç®—
     * @param n n!
     */
    public static BigInteger factorialBigParallel(long n);

```



#### MD5Utils MD5å·¥å…·ç±»

> `util class`



æä¾›ä¸¤ä¸ªæ–¹æ³•åŠ å¯†å­—ç¬¦ä¸²ä¸ºMD5ï¼ŒåŠ å¯†å‡½æ•°æ¥è‡ªJava

```java
	public static String toMD5(String inStr);

    public static String toMD5(byte[] byteArray);
```



#### StringListReader  å­—ç¬¦ä¸²è¯»å–æµ

> `class`



å°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬åŒ–ä¸ºReaderæµå¯¹è±¡ã€‚

```java
Reader reader = new StringListReader("string");
```



### ä¸­æ–‡ç›¸å…³å·¥å…· **`*`**

> `com.forte.utils.chinese`



#### ChineseUtil éšæœºä¸­æ–‡å·¥å…·ç±»

> `util class`



æä¾›ä¸€äº›æ–¹æ³•ä»¥ç”Ÿæˆéšæœºçš„ä¸­æ–‡æˆ–è€…éšæœºçš„å§“åã€‚ä¸è¿‡éšæœºçš„ä¸­æ–‡ä¸­ç”Ÿåƒ»å­—å¯èƒ½ä¼šå¾ˆå¤šï¼Œè¿™å°±é—´æ¥å¯¼è‡´äº†éšæœºä¸­æ–‡å§“åçœ‹ä¸Šå»ä¼šæœ‰äº›åˆ«æ‰­..

é¡ºä¾¿ä¸€æï¼Œå§“æ°æ¥è‡ªäºç™¾å®¶å§“ã€‚



```java
    /**
     * è·å–ä¸€ä¸ªéšæœºå§“å
     *
     * @param charsetName å­—ç¬¦ç¼–ç 
     * @return
     */
    public static String getName(String charsetName);

     /**
     * è·å¾—å¤šä¸ªéšæœºå§“æ°
     *
     * @return
     */
    public static String[] getFamilyName(int nums);


    /**
     * è·å¾—ä¸€ä¸ªéšæœºå§“æ°
     *
     * @return
     */
    public static String getFamilyName();

     /**
     * è·å–ä¸€ä¸ªéšæœºå§“å
     *
     * @return
     */
    public static String getName();

    /**
     * è·å–ä¸€ä¸ªæ±‰å­—
     *
     * @param encoding ç¼–ç æ ¼å¼
     * @return
     */
    public static String getChinese(String encoding);

    /**
     * è·å–ä¸€ä¸ªéšæœºæ±‰å­—
     *
     * @return
     */
    public static String getChinese();

   /**
     * è·å–ä¸€ä¸ªéšæœºæ±‰å­—
     *
     * @return
     */
    public static String getChinese(int num);

    /**
     * è·å–ä¸€ä¸ªéšæœºæ±‰å­—
     *
     * @return
     */
    public static String getChinese(int num, String encoding) ;



```





#### CNumerUtil ä¸­æ–‡æ•°å­—è½¬åŒ–å·¥å…·åŒ… 

> `package com.forte.utils.chinese.chinesenumber`
>
> `util classes`



è¿™å°±ä¸æ˜¯ä¸€ä¸ªå•ä¸ªå„¿çš„å·¥å…·ç±»äº†ï¼Œè€Œæ˜¯ä¸€ç»„å·¥å…·åŒ…ï¼Œå¯¹å¤–æ¥å£æ˜¯CNumerUtilç±»ã€‚

æ­¤ç±»å¯¹å¤–çš„æ–¹æ³•çª—å£åªæœ‰ä¸¤ä¸ªï¼š

```java
   /**
     * å°†ä¸­æ–‡æ•°å­—è½¬åŒ–ä¸ºçœŸæ­£çš„æ•°å­—
     * @param chinese ä¸­æ–‡æ•°å­—
     * @return
     */
    public static <T extends Number> CNumber<T> toNumber(String chinese);

   /**
     * è§£æå¯èƒ½å­˜åœ¨è¿ç®—ç¬¦çš„ä¸­æ–‡å­—ç¬¦å¹¶è®¡ç®—ç»“æœ <br>
     * å‡å¦‚ç»“æœæ˜¯å¸ƒå°”å€¼ï¼Œåˆ™true:1ï¼Œfalse:0 <br>
     *
     */
    public static CNumber toCalculation(String chinese) throws ScriptException;

```



è™½ç„¶çª—å£åªæœ‰ä¸¤ä¸ªï¼Œä½†æ˜¯æ€»ä½“æ¥è®²åŠŸèƒ½æ˜¯å¾ˆå¼ºçš„ï¼Œå¯¹äºtoNumberæ–¹æ³•åŸºæœ¬ä¸Šåªè¦ä½ ä¸ç”¨ä»€ä¹ˆå¥‡æ€ªçš„ç”Ÿåƒ»æ•°å­—å†™æ³•æˆ–è€…ä»€ä¹ˆåœ°åŒºæ–¹è¨€çš„æ•°å­—è¡¨è¾¾æ–¹å¼ï¼ŒåŸºæœ¬ä¸Šè½¬åŒ–çš„å‡†ç¡®ç‡æ˜¯å¾ˆé«˜çš„å‘¢~

è€Œå¯¹äºç¬¬äºŒä¸ªæ–¹æ³• toCalculation æ¥è¯´ï¼Œæˆ‘çš„æµ‹è¯•æ•°æ®è¿˜æ˜¯æ¯”è¾ƒå°‘ï¼Œæ€»çš„æ¥è¯´å°±æ˜¯ä¼šæŠŠåŠ å‡ä¹˜é™¤å•Šä¹‹ç±»çš„è®¡ç®—ä¹Ÿè€ƒè™‘è¿›å»ï¼Œï¼ˆè®¡ç®—ç¬¦å·åŒJSä¸­çš„è¿ç®—ç¬¦è€Œä¸æ˜¯ç°å®ä¸­çš„æ•°å­¦è¿ç®—ç¬¦ï¼‰ï¼ŒåŒæ ·çš„ï¼Œåªè¦ä¸è¦å¤ªå¥‡æ€ªçš„éƒ½æ˜¯å¯ä»¥è§£æå‡ºæ¥çš„ã€‚





### é›†åˆæ‰©å±•å·¥å…· 

> `com.forte.utils.collections`



#### CacheMap<K, V> ç¼“å­˜Map

> `class`



è¿™ä¸ªMapåœ¨æœ€åˆçš„æƒ³æ³•ä¸­æ˜¯å¯ä»¥å®ç°ä½¿å¾—å­˜å…¥çš„å€¼æœ‰ä¸€å®šçš„æ—¶æ•ˆæ€§ï¼Œå½“è¿‡æœŸåå†å»è·å–å°±è·å–ä¸åˆ°è¿™ä¸ªæ ·å­ï¼Œè®©ä»–æœ‰ä¸ªâ€œä¿è´¨æœŸâ€ï¼Œç›®å‰çš„å®ç°æ–¹å¼æ˜¯æ‡’åˆ¤æ–­ï¼Œåœ¨è·å–çš„æ—¶å€™å»åˆ¤æ–­æ˜¯å¦è¿‡æœŸï¼Œä½†æ˜¯è¿™ä¸ªæ ·å­æœ‰ä¸€ä¸ªå¼Šç«¯å°±æ˜¯å‡å¦‚ä½ è¿™è¾ˆå­éƒ½ä¸å†å»è·å–ä»–ï¼Œé‚£ä¹ˆä»–å¹¶ä¸ä¼šåœ¨Mapä¸­æ¶ˆå¤±ï¼Œå­˜åœ¨ä¸€å®šçš„èµ„æºæµªè´¹ã€‚

å†…éƒ¨ä½¿ç”¨çš„Mapæ˜¯ConcurrentHashMapä»¥ä¿è¯ä¸€å®šçš„çº¿ç¨‹å®‰å…¨æ€§ã€‚

é™¤äº†MapåŸç”Ÿæ¥å£ä»¥å¤–æä¾›çš„æ–¹æ³•æœ‰ï¼š

```java
 /**
     * æ·»åŠ ä¸€ä¸ªï¼Œå¦‚æœæ—¶é—´å·²ç»è¿‡æœŸåˆ™ä¸æ·»åŠ 
     */
    public R put(T t, R r, LocalDateTime expireDate);
    /** æ·»åŠ ä¸€ä¸ªï¼ŒæŒ‡å®šè¿‡æœŸè§„åˆ™ */
    public R put(T t, R r, TemporalAmount amount);

    /** å­˜å€¼å¹¶æŒ‡å®šè¿‡æœŸè§„åˆ™ */
    public R put(T t , R r, long amountToAdd, TemporalUnit unit);

    /** è¿‡xxçº³ç§’ä¹‹åè¿‡æœŸ */
    public R putPlusNanos(T t , R r, long nanos);

    /** è¿‡xxç§’ä¹‹åè¿‡æœŸ */
    public R putPlusSeconds(T t , R r, long seconds);

    /** è¿‡xxåˆ†é’Ÿåè¿‡æœŸ */
    public R putPlusMinutes(T t , R r, long minutes);

    /** è¿‡xxå°æ—¶ä¹‹åè¿‡æœŸ */
    public R putPlusHours(T t , R r, long hours);

    /** è¿‡xxå¤©ä¹‹åè¿‡æœŸ */
    public R putPlusDays(T t , R r, long days);

    /** è¿‡xxæœˆä¹‹åè¿‡æœŸ */
    public R putPlusMonth(T t , R r, long month);

    /** è¿‡xxå¹´ä¹‹åè¿‡æœŸï¼Œå¦‚æœä½ èƒ½ç­‰åˆ°é‚£æ—¶å€™çš„è¯ */
    public R putPlusYear(T t , R r, long year);

```





#### ExArrayIterable æ•°ç»„å…ƒç´ è¿­ä»£å™¨

> class` 



é¡¾åæ€ä¹‰ï¼Œç»™ä¸€ä¸ªæ•°ç»„ï¼Œè¿˜ä½ ä¸€ä¸ªè¿­ä»£å™¨ã€‚

æš‚æ—¶ä¸æ”¯æŒåŸºç¡€æ•°æ®ç±»å‹ã€‚

```java
// é€šè¿‡æ„é€ 

```





#### ExCollections Collectionsæ‰©å±•

> `util class`



æä¾›ä¸€äº›æˆ‘æ›¾ç»æƒ³è¦ä½†æ˜¯æ²¡æœ‰åœ¨`Collections`æ‰¾åˆ°çš„é›†åˆç›¸å…³è¾…åŠ©æ“ä½œæ–¹æ³•ã€‚æ¯”å¦‚ç»™Mapæ’ä¸ªåºå•¥çš„ã€‚

```java
 /**
     * é€šè¿‡æµå¤åˆ¶ä¸€ä¸ªå¯¹è±¡
     * @param collection    collectionå¯¹è±¡
     * @param collectionFactory collectionå·¥å‚
     */
    public static <E, C extends Collection<E>> Collection<E> copy(Collection<E> collection, Supplier<C> collectionFactory);

    /**
     * è½¬ä¸ºListé›†åˆ
     * @param collection collection
     */
    public static <E> List<E> toList(Collection<E> collection);

    /**
     * è½¬ä¸ºSet
     * @param collection collection
     */
    public static <E> Set<E> toSet(Collection<E> collection);

    /**
     * ä¸ºMapæ’åº
     */
    public static <K extends Comparable<K>, V> Map<K, V> mapKeySorted(Map<K, V> map);

    /**
     * ä¸ºMapæ’åº
     */
    public static <K, V extends Comparable<V>> Map<K, V> mapValueSorted(Map<K, V> map);
    /**
     * ä¸ºMapæ’åº
     */
    public static <K extends Comparable<K>, V> Map<K, V> mapKeySorted(Stream<Map.Entry<K, V>> stream);

    /**
     * ä¸ºMapæ’åº
     */
    public static <K, V extends Comparable<V>> Map<K, V> mapValueSorted(Stream<Map.Entry<K, V>> stream);

    /**
     * ä¸ºMapæ’åº
     */
    public static <K, V> Map<K, V> mapKeySorted(Map<K, V> map, Comparator<K> keyCompared);

    /**
     * ä¸ºMapæ’åº
     */
    public static <K, V> Map<K, V> mapValueSorted(Map<K, V> map, Comparator<V> valueCompared);
    /**
     * ä¸ºMapæ’åº
     */
    public static <K, V> Map<K, V> mapKeySorted(Stream<Map.Entry<K, V>> stream, Comparator<K> keyCompared);

    /**
     * ä¸ºMapæ’åº
     */
    public static <K, V> Map<K, V> mapValueSorted(Stream<Map.Entry<K, V>> stream, Comparator<V> valueCompared);

    /**
     * è½¬åŒ–ä¸ºå¯å˜çš„List
     */
    public static <A> List<A> toList(A[] array);



```





#### Maputer Mapå­˜å€¼å·¥å…·ç±» **`*`**

> `util class`



å…³äºè¿™ä¸ªå·¥å…·ç±»ï¼Œæˆ‘è®¤ä¸ºå®ƒå€¼å¾—ä¸€æçš„ç‚¹ä¸æ˜¯åŠŸèƒ½ï¼Œè€Œæ˜¯å®ƒçš„åå­—233ï¼ŒMaputeråç§°ç”±æ¥ï¼šMap å¯¹mapçš„æ“ä½œï¼Œä»€ä¹ˆæ“ä½œï¼Ÿput æ“ä½œï¼Œè°åœ¨æ“ä½œï¼Ÿå·¥å…·ç±»è¿™ä¸ªè§’è‰²( er ) è¿›è¡Œæ“ä½œï¼Œäºæ˜¯Maputer = Map + put + er 

å“ˆå“ˆã€‚

æŒºå†·çš„ã€‚

```java
/**
     * å‘mapä¸­å­˜æ”¾ä¸€ä¸ªå€¼
     * å¦‚æœå­˜åœ¨ï¼Œå°†å­˜åœ¨çš„å€¼ä¼ å…¥å¹¶è¿”å›ä¸€ä¸ªè¦ä¿å­˜çš„å€¼
     * å¦‚æœä¸å­˜åœ¨ï¼Œæ— å‚æ•°ï¼Œè·å–ä¸€ä¸ªè¦ä¿å­˜çš„å€¼<br>
     *     <code>
     *         Map<String, Integer> map = new HashMap<>(2);
     *         int value = 20;
     *         Maputer.put(map, "key", e -> e + value, () -> value);
     *         // ç¬¬ä¸€æ¬¡çš„ç»“æœï¼Œæ”¾è¿›å»äº†valueï¼Œkey:20
     *         Maputer.put(map, "key", e -> e + value, () -> value);
     *         // ç¬¬äºŒæ¬¡çš„ç»“æœï¼Œæœ¬æ¥æ˜¯å­˜åœ¨çš„ï¼Œæ‰€ä»¥è€å€¼ + æ”¾å…¥å€¼ï¼Œkey:40
     *     </code>
     * @param map       æ“ä½œçš„map
     * @param key       æ“ä½œçš„key
     * @param ifExist   å¦‚æœå€¼å­˜åœ¨çš„å‡½æ•°
     * @param ifNull    å¦‚æœå€¼ä¸ºnullçš„å‡½æ•°
     */
    public static <K, V> V put(Map<K, V> map, K key, Function<V, V> ifExist, Supplier<V> ifNull);

    /**
     * æ·»åŠ äº† synchronized å…³é”®å­—çš„{@link #put} æ–¹æ³•
     * @param map       æ“ä½œçš„map
     * @param key       æ“ä½œçš„key
     * @param ifExist   å¦‚æœå€¼å­˜åœ¨çš„å‡½æ•°
     * @param ifNull    å¦‚æœå€¼ä¸ºnullçš„å‡½æ•°
     */
    public synchronized static <K, V> void putSynchronized(Map<K, V> map, K key, Function<V, V> ifExist, Supplier<V> ifNull);

    /**
     * è·å–mapä¸­çš„æŸä¸ªå€¼
     * å¦‚æœå­˜åœ¨ï¼Œæ“ä½œè¿™ä¸ªå€¼ï¼Œå¦åˆ™å­˜å…¥ä¸€ä¸ªå€¼
     * å¦‚æœä¸å­˜åœ¨ï¼Œæ— å‚æ•°ï¼Œè·å–ä¸€ä¸ªè¦ä¿å­˜çš„å€¼<br>
     *     <code>
     *         Map<String, Integer> map = new HashMap<>(2);
     *         int value = 20;
     *         Maputer.put(map, "key", e -> e + value, () -> value);
     *         // ç¬¬ä¸€æ¬¡çš„ç»“æœï¼Œæ”¾è¿›å»äº†valueï¼Œkey:20
     *         Maputer.put(map, "key", e -> e + value, () -> value);
     *         // ç¬¬äºŒæ¬¡çš„ç»“æœï¼Œæœ¬æ¥æ˜¯å­˜åœ¨çš„ï¼Œæ‰€ä»¥è€å€¼ + æ”¾å…¥å€¼ï¼Œkey:40
     *     </code>
     * @param map       æ“ä½œçš„map
     * @param key       æ“ä½œçš„key
     * @param ifExist   å¦‚æœå€¼å­˜åœ¨çš„å‡½æ•°
     * @param ifNull    å¦‚æœå€¼ä¸ºnullçš„å‡½æ•°
     */
    public static <K, V> void peek(Map<K, V> map, K key, Consumer<V> ifExist, Supplier<V> ifNull);

    /**
     * æ·»åŠ äº† synchronized å…³é”®å­—çš„{@link #put} æ–¹æ³•
     */
    public synchronized static <K, V> void peekSynchronized(Map<K, V> map, K key, Consumer<V> ifExist, Supplier<V> ifNull);

    //**************************************
    //*             æ•´åˆæ–¹æ³•
    //**************************************


    /**
     * ç»™å®šä¸€ä¸ªvalueå€¼ä¸ºColletion<E>é›†åˆç±»å‹çš„mapé›†åˆï¼Œç»™å®šä¸€ä¸ªCollection<E>ç±»å‹çš„å€¼å‚æ•°
     * å¦‚æœvalueå€¼å­˜åœ¨ï¼Œæ·»åŠ æ‰€æœ‰ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ä¿å­˜
     * @param map   mapé›†åˆ
     * @param key   é”®
     * @param collections   è¦ä¿å­˜æˆ–è¦æ·»åŠ çš„
     */
    public static <E, K, V extends Collection<E>> void addAll(Map<K, V> map, K key, V collections);

    /**
     * çº¿ç¨‹å®‰å…¨çš„{@link #addAll} æ–¹æ³•
     */
    public static <E, K, V extends Collection<E>> void addAllSynchronized(Map<K, V> map, K key, V collections);

    /**
     * ç»™å®šä¸€ä¸ªvalueå€¼ä¸ºColletion<E>é›†åˆç±»å‹çš„mapé›†åˆï¼Œç»™å®šä¸€ä¸ªEç±»å‹çš„å‚æ•°
     * å¦‚æœvalueå€¼å­˜åœ¨ï¼Œæ·»åŠ ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ä½¿ç”¨ç»™å®šçš„å‚æ•°å¡«å……
     * @param map   mapé›†åˆ
     * @param key   é”®
     * @param one   è¦ä¿å­˜æˆ–è¦æ·»åŠ çš„
     */
    public static <E, K, V extends Collection<E>> void add(Map<K, V> map, K key, E one, V ifNull);

    /**
     * çº¿ç¨‹å®‰å…¨çš„{@link #add} æ–¹æ³•
     */
    public static <E, K, V extends Collection<E>> void addSynchronized(Map<K, V> map, K key, E one, V ifNull);


    /**
     * ç»™å®šä¸€ä¸ªvalueå€¼ä¸ºColletion<E>é›†åˆç±»å‹çš„mapé›†åˆï¼Œç»™å®šä¸€ä¸ªEç±»å‹çš„å‚æ•°
     * å¦‚æœvalueå€¼å­˜åœ¨ï¼Œæ·»åŠ ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ä½¿ç”¨ç»™å®šçš„æ–¹æ³•è·å–å€¼å¡«å……
     * @param map   mapé›†åˆ
     * @param key   é”®
     * @param one   è¦ä¿å­˜æˆ–è¦æ·»åŠ çš„
     */
    public static <E, K, V extends Collection<E>> void add(Map<K, V> map, K key, E one, Supplier<V> ifNull);

    /**
     * çº¿ç¨‹å®‰å…¨çš„{@link #add(Map, Object, Object, Supplier)} æ–¹æ³•
     */
    public static <E, K, V extends Collection<E>> void addSynchronized(Map<K, V> map, K key, E one, Supplier<V> ifNull);

```





### æ–‡ä»¶ç›¸å…³å·¥å…·

> `com.forte.utils.file`



#### ExFileUtils æ–‡ä»¶å·¥å…·æ‹“å±•

> `util class`



è¿™ä¸ªå·¥å…·ç±»è®²é“ç†æœ‰å¾ˆå¤šæ–¹æ³•å¹¶ä¸æ˜¯æ€ä¹ˆæˆåŠŸï¼Œä¹Ÿæœ‰å¾ˆå¤šä¸œè¥¿ä½¿ç”¨èµ·æ¥å¹¶ä¸æ˜¯å¾ˆå‹å¥½ï¼ˆå¤§éƒ¨åˆ†ä¸ºè¯»å†™æ“ä½œï¼‰ï¼Œä½†æ˜¯ä½ ä»¬è‚¯å®šéƒ½æ˜¯ç”¨common-ioçš„å§æ‰€ä»¥è¯»å†™è¿™éƒ¨åˆ†çš„æ¯›ç—…æš‚ä¸”å…ˆæ— è§†å§~

è¯»çš„è¯åªæœ‰è¯»è¡Œï¼Œä¸è¿‡æ˜¯é€šè¿‡æµå½¢å¼è¯»çš„æ•ˆç‡è¿˜å¯ä»¥ï¼Œä½†æ˜¯å†™çš„è¯å‚æ•°æ˜¯`File` å’Œ `CharStream` ï¼Œæ‰€ä»¥æŒºéº»çƒ¦çš„ã€‚

å…ˆä¸æè¯»å†™ï¼Œé™¤äº†è¯»å†™å®ƒè¿˜æä¾›äº†ä¸€äº›åˆ«çš„æ–¹æ³•ä¾‹å¦‚è·å–åˆ›å»ºæ–‡ä»¶ã€åˆ›å»ºä¸´æ—¶æ–‡ä»¶ã€åˆ›å»ºç³»ç»Ÿç»“æŸå°±ä¼šåˆ é™¤çš„æ–‡ä»¶ã€è·å–ä¸»æ–‡ä»¶å¤¹ï¼ˆä¾‹å¦‚windowsçš„æ¡Œé¢ï¼‰ç­‰ã€‚

```java

    /**
     * è·å–FileNameJoiner
     */
    public static FileNameJoiner nameJoiner();


    /**
     * è¯»å–å…¨éƒ¨è¡Œï¼ˆæµå¯¹è±¡
     */
    public static StringStream getLines(File file) throws FileNotFoundException;

    /**
     * å°†å­—ç¬¦æµå†™å…¥æ–‡ä»¶
     * @param file  æ–‡ä»¶å¯¹è±¡
     * @param chars å­—ç¬¦æµ
     * @throws IOException
     */
    public static void write(File file, CharStream chars) throws IOException;

    /**
     * å°†è¡Œå†™å…¥æ–‡ä»¶
     * @param file  æ–‡ä»¶å¯¹è±¡
     * @param lines è¡Œæ•°æ®
     * @throws IOException
     */
    public static void write(File file, String... lines) throws IOException;

    /**
     * å°†è¡Œå†™å…¥æ–‡ä»¶
     * @param file  æ–‡ä»¶å¯¹è±¡
     * @param lines è¡Œæ•°æ®
     * @throws IOException
     */
    public static void write(File file, Collection<String> lines) throws IOException;

    /**
     * è¯»å–æ–‡ä»¶çš„charæµå¯¹è±¡
     * æ•ˆç‡æƒ…å†µä¸æ˜¯å¾ˆä¹è§‚ï¼Œéå†å…¨éƒ¨å­—ç¬¦çš„é€Ÿåº¦æ˜¯BufferedReaderçš„linesæµéå†æ‰€æœ‰è¡Œæ•°æ®çš„3å€ã€‚
     * å•¥ï¼Ÿä¼˜åŒ–ï¼Ÿæ‡’ã€‚
     * @param file  æ–‡ä»¶å¯¹è±¡
     * @return
     * @throws IOException
     */
    public static CharStream getChars(File file) throws IOException;

    /**
     * å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶
     * @param file æ–‡ä»¶å¯¹è±¡
     * @return  æ˜¯å¦åˆ›å»º
     * @throws IOException
     */
    public static boolean createFile(File file) throws IOException;

    /**
     * è·å–ä¸»æ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚windowçš„æ¡Œé¢ç­‰
     * @return
     */
    public static File getHomeDirectory();

    /**
     * è·å–æ–‡ä»¶åœ¨ç³»ç»Ÿä¸­çš„åç§°
     * @param file æ–‡ä»¶å¯¹è±¡
     */
    public static String getFileDisplayName(File file);

    /**
     * è·å–{@link FileSystemView} å¯¹è±¡
     */
    public static FileSystemView getFileSystemView();

    /**
     * è·å–ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶
     * @param prefix        æ–‡ä»¶åå‰åŠéƒ¨åˆ†ï¼Œå¦‚æœé•¿åº¦ä¸è¶³3åˆ™ç”¨'_'(ä¸‹åˆ’çº¿)è¿›è¡Œè¡¥å…¨
     * @param suffix        æ–‡ä»¶åååŠéƒ¨åˆ†ï¼Œå¦‚æœä¸ºnullåˆ™é»˜è®¤ä¸º.tmp, nullable
     * @param directory     æŒ‡å®šä¸€ä¸ªè…¹è‚Œæ–‡ä»¶å¤¹ï¼Œnullable
     * @param deleteOnExit  æ˜¯å¦åœ¨ç¨‹åºç»“æŸä¹‹ååˆ é™¤æ­¤æ–‡ä»¶, é»˜è®¤ä¸åˆ é™¤
     * @return ä¸´æ—¶æ–‡ä»¶
     * @throws IOException
     */
    public static File getTempFile(String prefix, String suffix, File directory, boolean deleteOnExit) throws IOException;

    /**
     * @see #getTempFile(String, String, File, boolean)
     */
    public static File getTempFile(String fileName, File directory, boolean deleteOnExit) throws IOException;

    /**
     * @see #getTempFile(String, String, File, boolean)
     */
    public static File getTempFile(String fileName, boolean deleteOnExit) throws IOException;

    /**
     * @see #getTempFile(String, String, File, boolean)
     */
    public static File getTempFile(String fileName, File directory) throws IOException;


    /**
     * @see #getTempFile(String, String, File, boolean)
     */
    public static File getTempFile(String prefix, String suffix, boolean deleteOnExit) throws IOException;

    /**
     * @see #getTempFile(String, String, File, boolean)
     */
    public static File getTempFile(String prefix, String suffix, File directory) throws IOException;

    /**
     * @see #getTempFile(String, String, File, boolean)
     */
    public static File getTempFile(String prefix, String suffix) throws IOException;

```



å…³äºç¬¬ä¸€ä¸ªæ–¹æ³•ä¸­çš„è¿”å›å€¼`FileNameJoiner` , å°±æ˜¯ä¸€ä¸ªæ‹¼æ¥æ–‡ä»¶è·¯å¾„çš„å°å·¥å…·ï¼Œä¸»è¦æ˜¯æ–‡ä»¶è·¯å¾„ä¸­å®ƒä½¿ç”¨çš„åˆ†å‰²ç¬¦æ˜¯`File`ç±»ä¸­`separator` ä»¥ä¿è¯ä¸åŒç³»ç»Ÿä¸‹å¯ä»¥å…¼å®¹ã€‚å…·ä½“æ–¹æ³•å°±ä¸æäº†ã€‚



### å‡½æ•°æ¥å£æ‰©å±• **`*`**

> `com.forte.utils.function`



æ­¤åŒ…ä¸‹æä¾›äº†å¤§é‡çš„Javaä¸­çš„å‡½æ•°æ¥å£çš„æ‰©å±•ï¼Œæ¯•ç«Ÿéƒ½æ˜¯å‡½æ•°æˆ‘å°±ä¸åŸºäºæ–¹æ³•çš„ä¸€ä¸€ä»‹ç»äº†ï¼Œç›´æ¥ä»‹ç»ç±»äº†ã€‚

```
ByteConsumer	
ByteFunction
CharConsumer
CharFunction
ExConsumer
ExFunction
ExFunctionThrows
FunctionThrows
```



ä»¥ä¸Šç½—åˆ—çš„ï¼Œæ˜¯ä¸€äº›æ²¡æœ‰çš„åŸºç¡€æ•°æ®ç±»å‹å‡½æ•°ã€ä¸‰å‚æ•°å‡½æ•°(å¼€å¤´ä¸ºExçš„)ã€è‡ªå¸¦Throwsçš„å‡½æ•°ã€‚

æ‰€è°“ä¸‰å‚æ•°å°±æ˜¯ç›¸å¯¹äº`Bi` å¼€å¤´çš„å‡½æ•°å†å¤šä¸€ä¸ªå‚æ•°ã€‚

ä»€ä¹ˆï¼Ÿbyteç±»å‹å¯ä»¥ç”¨intçš„å‡½æ•°æ›¿ä»£ï¼Ÿæ˜¯å•Šï¼Œä½†æ˜¯åæ­£å†™éƒ½å†™äº†ã€‚





#### SerializableFunctions åºåˆ—åŒ–å‡½æ•°

> `util interfaces`



æœ‰æ—¶å€™ï¼Œä½ çš„ä¸€ä¸ªç±»ä¸­æœ‰ä¸€ä¸ªå­—æ®µæ˜¯ä¸€ä¸ªå‡½æ•°å­—æ®µï¼Œä¸”ä½ æƒ³è¦å®ƒèƒ½å¤Ÿè¢« `Serializable` åºåˆ—åŒ–ï¼Œé‚£ä¹ˆé™¤äº†ä½¿ç”¨å¼ºè½¬çš„æ–¹å¼ä½¿å…¶å¾—ä»¥å®ä¾‹åŒ–ï¼Œè¿˜æœ‰ä¸€ç§æ–¹æ³•å°±æ˜¯å†å†™ä¸€ä¸ªå®ç°äº†æ¥å£`Serializable` çš„å‡½æ•°å»ä»£æ›¿åŸæœ¬çš„å‡½æ•°ã€‚

æ³¨æ„ï¼šå‡å¦‚ä½¿ç”¨äº†è¿™ç§å‡½æ•°ï¼Œä½ éœ€è¦åœ¨å¤šåŠ è€ƒè™‘ä»¥ä¸‹ï¼Œè¿™æœ‰å¯èƒ½è¿˜æ¶‰åŠåˆ°äº†`serialVersionUID`è¿™ä¸ªä¸œè¥¿ã€‚

è¿™äº›å‡½æ•°åœ¨`SerializableFunctions `ç±»ä¸‹ï¼ŒJavaè‡ªå¸¦çš„æ‰€æœ‰å‡½æ•°å‡æœ‰å¯¹åº”ã€‚ï¼ˆå¤§æ¦‚å§



ç„¶ååœ¨`SerializableFunctions`ç±»ä¸­æˆ‘åˆé¡ºæ‰‹æä¾›äº†ä¸€ä¸ªé™æ€æ–¹æ³•ç”¨äºè·å–ä¸€ä¸ªç±»çš„æ³›å‹å­—ç¬¦ä¸²ï¼ˆå¦‚æœæœ‰çš„è¯ã€‚ï¼‰ä¾‹å¦‚ï¼šMapå°±ä¼šè·å–åˆ°"<K,V>"

```java
 /**
     * Get the generic string of the Class ( if it exists )
     * @param c class
     * @return generic string
     */
    public static String getGenericString(Class<?> c)
```





### éšæœºå·¥å…·

> `com.forte.utils.random`



#### MockUtil å‡æ•°æ®å·¥å…·

> `util class`



è¿™ä¸ªå·¥å…·ç±»ä¸»è¦æ˜¯ç”¨äºæˆ‘çš„å¦ä¸€ä¸ªé¡¹ç›®`Mock.java`(å¦‚æœæ‚¨æœ‰å…´è¶£å¯ä»¥çœ‹ä¸€ä¸‹~é¡ºæ‰‹ç‚¹ä¸ªstartä¹‹ç±»çš„)ï¼Œå†…éƒ¨æä¾›å¾ˆå¤šç”Ÿæˆå‡æ•°æ®çš„æ–¹æ³•ã€‚ç”±äºæ•°é‡æ¯”è¾ƒå¤šï¼Œä¸åœ¨æ­¤ç½—åˆ—ï¼Œæ€»ä½“ä¸Šæœ‰é‚£ä¹ˆä¸€äº›å†…å®¹ï¼š

- åç§°ã€titleç­‰ç›¸å…³
- dateç›¸å…³
- numberç›¸å…³
- String characterç›¸å…³
- boolean ç›¸å…³
- colorç›¸å…³
- textç›¸å…³

- webç›¸å…³



#### RandomUtil éšæœºå€¼å·¥å…·

> `util class`



ä¸ä¸Šé¢é‚£ä¸ªç±»ä¼¼ï¼Œä¸è¿‡`MockUtil`ä¸­å¤§éƒ¨åˆ†æ–¹æ³•éƒ½æ˜¯ä¾èµ–äº`RandomUtil`çš„ã€‚ç”¨äºé€šè¿‡å„ç§æ–¹å¼å’Œéœ€æ±‚ç”Ÿæˆå„ç§éšæœºå€¼ã€‚ä¾‹å¦‚æ ¹æ®0-1çš„æ¦‚ç‡æˆ–è€…ç™¾åˆ†æ¯”æ¦‚ç‡ç”Ÿæˆä¸€ä¸ªå¸ƒå°”å€¼ã€éšæœºæ•´æ•°å°æ•°ã€éšæœºé¢œè‰²ã€è¿”å›æ•°ç»„/é›†åˆä¸­çš„éšæœºå…ƒç´ ç­‰ç­‰ã€‚åŒæ ·ä¸å†ä¸€ä¸€ç½—åˆ—ã€‚





### åå°„å·¥å…· **`*`**

> `com.forte.utils.reflect`



é€æ¸æ­¥å…¥æ­£é¢˜çš„æ„Ÿè§‰...åå°„ç›¸å…³åŒ…ä¸‹æä¾›çš„å‡ ä¸ªå·¥å…·ç±»æˆ‘è§‰å¾—éƒ½è¿˜æ˜¯æŒºå®ç”¨çš„ï¼Œä¹Ÿä¸æ€ä¹ˆå¸¸è§ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—è¿™éƒ¨åˆ†çš„å·¥å…·è¿˜æ˜¯è›®æœ‰ä»·å€¼çš„ã€‚

#### EnumUtils æšä¸¾å·¥å…·ç±»

> `util class`



è¯´å®è¯ï¼Œæƒ³è¦åŠ¨æ€åˆ›å»ºæšä¸¾å®ä¾‹çš„éœ€æ±‚ç¡®å®ä¸æ€ä¹ˆå¸¸è§ï¼Œä½†æ˜¯ä»æˆ‘ä¸ªäººè§’åº¦æ¥çœ‹å´å·²ç»é‡è§äº†ä¸¤æ¬¡...äºæ˜¯ä¾¿ç›´æ¥å†™äº†è¿™ä¸ªä¸€ä¸ªå·¥å…·ç±»ï¼Œä¸»è¦ç”¨äºé’ˆå¯¹æŸç§æšä¸¾ç±»å‹æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹å¯¹è±¡ã€‚

```java
/**
     * è·å–ä¸€ä¸ªæšä¸¾çš„æ–°å®ä¾‹å¯¹è±¡
     * @param enumType          æšä¸¾ç±»å‹
     * @param name              æšä¸¾åç§°
     * @param constructorTypes  æ„é€ æ–¹æ³•å‚æ•°ç±»å‹é›†
     * @param args              æ„é€ å¯¹åº”çš„å‚æ•°åˆ—è¡¨
     * @return
     * @throws NoSuchMethodException
     * @throws IllegalAccessException
     */
    public static <T extends Enum<T>> T newEnum(Class<T> enumType, String name, Class<?>[] constructorTypes, Object[] args) throws NoSuchMethodException, IllegalAccessException;

/**
     * è·å–ä¸€ä¸ªæšä¸¾çš„æ–°å®ä¾‹å¯¹è±¡
     * é»˜è®¤å°è¯•ä½¿ç”¨æšä¸¾çš„æ— å‚æ„é€ 
     * @param enumType  æšä¸¾ç±»å‹
     * @param name      æšä¸¾çš„name
     * @return          æšä¸¾æ–°å®ä¾‹å¯¹è±¡
     * @throws NoSuchMethodException
     * @throws IllegalAccessException
     */
    public static <T extends Enum<T>> T newEnum(Class<T> enumType, String name) throws NoSuchMethodException, IllegalAccessException;


 /**
     * åˆ›å»ºä¸€ä¸ªæšä¸¾æ–°å®ä¾‹ï¼Œä¼šæ ¹æ®æšä¸¾æ„é€ å‚æ•°æ•°é‡å°è¯•å¯»æ‰¾å”¯ä¸€å¯¹åº”çš„æ„é€ ã€‚
     * æ‰¾ä¸åˆ°æˆ–è€…æœ‰å¤šä¸ªä¼šæŠ›å‡ºå¼‚å¸¸ã€‚
     * @param enumType  æšä¸¾ç±»å‹
     * @param name      æšä¸¾åç§°
     * @param args      æšä¸¾çš„æ„é€ å‚æ•°
     * @return
     * @throws NoSuchMethodException
     * @throws IllegalAccessException
     */
    public static <T extends Enum<T>> T newEnum(Class<T> enumType, String name, Object... args) throws NoSuchMethodException, IllegalAccessException;


/**
     * è·å–æšä¸¾çš„å…¨éƒ¨å®ä¾‹
     * ç”±äºåŸç”Ÿçš„valueså±äºfinalå­—æ®µæ— æ³•ä¿®æ”¹ï¼Œäºæ˜¯ä»æ­¤å¤„æä¾›ä¸€ä¸ªæ–¹æ³•è·å–valueså€¼
     * ä¸ºäº†ä½¿å¾—æ•ˆæœä¸åŸç”Ÿvaluesä¸€è‡´ï¼Œä¼šè¿›è¡Œæ’åº
     * @param t     æšä¸¾ç±»å‹
     * @return      æšä¸¾å…¨éƒ¨å®ä¾‹
     */
    public static <T extends Enum<T>> T[] values(Class<T> t, IntFunction<T[]> initArray);

  /**
     * é€šè¿‡æšä¸¾çš„ç±»å‹è·å–è¿™ä¸ªæšä¸¾ç±»å‹çš„æˆå‘˜Map
     * ä¼šè¿›è¡Œcopy
     * @param enumType  æšä¸¾ç±»å‹
     * @return          æšä¸¾å†…éƒ¨å…¨éƒ¨æˆå‘˜å¯¹åº”é”®å€¼å¯¹
     */
    public static <T extends Enum<T>> Map<String, T> getEnumConstantDirectory(Class<T> enumType) throws IllegalAccessException ;

```



é¦–å…ˆè¦æçš„æ˜¯ï¼Œæ¯•ç«Ÿæ˜¯åå°„ï¼Œä½¿ç”¨ä¹‹å‰å…ˆè€ƒè™‘è€ƒè™‘æ•ˆç‡å’Œå®‰å…¨é—®é¢˜ã€‚å…³äºæ•ˆç‡ï¼Œå†…éƒ¨çš„å®ä¾‹åŒ–æµç¨‹å¹¶ä¸ä¼šæ¯æ¬¡éƒ½ä»å¤´æ¥ä¸€éï¼Œå¯¹äºä¸€äº›å¿…è¦çš„èµ„æºæœ‰ç¼“å­˜ï¼Œæ‰€ä»¥å…¶å®æ•ˆç‡ä¸ä¼šå¤ªä½ï¼Œä¸ªäººæµ‹è¯•ç”Ÿæˆ1000_0000ä¸ªæšä¸¾æ–°å®ä¾‹å¯¹è±¡ç”¨æ—¶å¤§æ¦‚25648ms ï¼Œä½†æ˜¯åæ­£ä½ ä¸å¯èƒ½ä¼šç”¨åˆ°è¿™ä¹ˆå¤šæšä¸¾çš„å¯¹å§ï¼Ÿ

å…¶æ¬¡ï¼Œæšä¸¾å®ä¾‹åœ¨è¢«åˆ›å»ºä¹‹åï¼Œæ˜¯å¯ä»¥é€šè¿‡`valueO`fæ–¹æ³•ç›´æ¥è¿›è¡Œè·å–çš„ã€‚ä½†æ˜¯æ— æ³•é€šè¿‡`values()` æ–¹æ³•è·å–ï¼Œæ¯•ç«Ÿè¿™ä¸¤ä¸ªæ–¹æ³•çš„å®ç°åŸç†å¹¶ä¸æ€ä¹ˆä¸€æ ·ã€‚æ‰€ä»¥å¦‚æœéœ€è¦`values()` , é‚£ä¹ˆå¯ä»¥è€ƒè™‘ä½¿ç”¨ å·¥å…·ç±»ä¸­çš„`values`.

æœ€åï¼Œåˆ«åæ§½ä¸ºå•¥ä¸€äº›ç±»ç”¨çš„å†…éƒ¨ç±»ï¼Œå› ä¸ºæˆ‘åªè¦è®©å·¥å…·ç±»åªå­˜åœ¨ä¸€ä¸ªç±»è€Œä¸æ˜¯ä¸€ä¸ªå·¥å…·åŒ…ã€‚ğŸ‘Œ



#### FieldUtils & MethodUtils åå°„å·¥å…·ç±»

> `util class`



ä¸ºå•¥è¦æ”¾åœ¨ä¸€èµ·è¯´å‘¢ï¼Ÿå› ä¸ºä»–ä¿©ç›¸äº’ä¾èµ–..

`FieldUtils` å¤§æ¦‚æ˜¯è¿™é‡Œé¢æœ€å¤§çš„ä¸€ä¸ªå·¥å…·ç±»ï¼Œè‡³äºä¸ºå•¥è¿™ä¹ˆå¤§ï¼Œè¿˜æ˜¯ä¸Šé¢å“ªä¸ªåŸå› ï¼šä¸æƒ³è®©ä¸€ä¸ªå·¥å…·ç±»å˜æˆå·¥å…·åŒ…ï¼Œæ‰€ä»¥æŠ›å¼€å•ä¸ªç±»çš„å¤§å°ä¸è°ˆï¼Œè°ˆè°ˆå†…å®¹ã€‚

FieldUtilså†…éƒ¨æä¾›äº†å¤§é‡çš„æ–¹æ³•ç”¨äºè·å–ï¼šç±»çš„å­—æ®µã€æ–¹æ³•ï¼ŒæŸä¸ªç±»æ˜¯å¦æ˜¯æŸä¸ªç±»çš„å­ç±»/çˆ¶ç±»ã€ç±»çš„å­—æ®µçš„Getter/setter æ–¹æ³•ã€é€šè¿‡getter/setterè·å–å­—æ®µå€¼ç­‰ç­‰ä¸€ç³»åˆ—æ–¹æ³•ï¼Œå¹¶ä¸”åœ¨è·å–å­—æ®µçš„æ—¶å€™æ˜¯æ”¯æŒ`field1.field2`è¿™æ ·å­çš„å¤šå±‚çº§è·å–çš„ã€‚ä¸è¿‡æ—¢æœ‰æ”¯æŒå¤šå±‚çº§çš„åˆæœ‰ä»…æ”¯æŒå•å±‚çº§çš„æ‰€ä»¥ç”¨çš„æ—¶å€™éœ€è¦å¤šåŠ æ³¨æ„ã€‚ï¼ˆä¸€èˆ¬ç»“å°¾æœ‰ä¸ªgetterçš„æ”¯æŒå¤šå±‚çº§çš„ï¼‰



é™¤äº†æ–¹æ³•æ¯”è¾ƒå¤šï¼Œè¿˜æœ‰å¯¼è‡´è¿™ä¸ªç±»è¿™ä¹ˆå¤§çš„åŸå› ä¹‹ä¸€å°±æ˜¯æˆ‘ä½¿ç”¨äº†ä¸€éƒ¨åˆ†å†…éƒ¨ç±»æ¥å®ç°äº†åå°„çš„ç¼“å­˜ï¼Œä¹Ÿå°±æ˜¯è¯´å½“ä½ åå°„è¿‡ä¸€æ¬¡ä¹‹åï¼Œç»“æœç»“æœä¼šè¢«ç¼“å­˜ï¼Œå‡å¦‚å†æ¬¡è·å–ï¼ˆä¾‹å¦‚è·å–ä¸€ä¸ªå­—æ®µï¼‰å°±ä¸ä¼šå†èµ°ä¸€éåå°„æµç¨‹äº†ã€‚ç‰ºç‰²äº†èµ„æºæ¢å–æ•ˆç‡ã€‚



ç”±äºæ–¹æ³•æ¯”è¾ƒå¤šå°±ä¸ç½—åˆ—äº†ã€‚



è€Œå…³äº`MethodUtil`ï¼Œå®ƒå†…éƒ¨çš„ä¸œè¥¿å°±æ¯”è¾ƒå°‘äº†ï¼Œåªæœ‰ä¸‰ä¸ªï¼š

```java


    /**
     * æ‰§è¡Œä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ä¸ºåŸºæœ¬çš„æ•°æ®ç±»å‹è¿›è¡Œè½¬åŒ–
     *
     * @param obj
     * @param args
     * @param method
     * @return
     * @throws InvocationTargetException
     * @throws IllegalAccessException
     */
    public static Object invoke(Object obj, Object[] args, Method method) throws InvocationTargetException, IllegalAccessException ;

    /**
     * æ‰§è¡Œä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ä¸ºåŸºæœ¬çš„æ•°æ®ç±»å‹è¿›è¡Œè½¬åŒ–
     *
     * @param obj
     * @param args
     * @param methodName æ–¹æ³•å
     * @return
     * @throws NoSuchMethodException
     */
    public static Object invoke(Object obj, Object[] args, String methodName) throws NoSuchMethodException;

    /**
     * jsä¸­çš„evalå‡½æ•°ï¼Œåº”è¯¥æ˜¯åªèƒ½è¿›è¡Œç®€å•çš„è®¡ç®—
     * åªèƒ½æ‰§è¡Œjsä»£ç å­—ç¬¦ä¸²
     * åˆ©ç”¨jsè„šæœ¬å®Œæˆ
     *
     * @param str éœ€è¦è¿›è¡Œevalæ‰§è¡Œçš„å‡½æ•°
     * @return æ‰§è¡Œåçš„ç»“æœ
     */
    public static Object eval(String str) throws ScriptException;
```



ä¸è¿‡åœ¨invokeä¸­ï¼Œä»–ä¼šå¯¹å¡«å…¥çš„å‚æ•°ä¸æ–¹æ³•çš„å‚æ•°åˆ—è¡¨è¿›è¡Œå¯¹åº”å¹¶å°è¯•è¿›è¡Œæ•°æ®è½¬åŒ–ï¼ˆä½¿ç”¨BeanUtilsçš„ConvertUtils.convertï¼‰







#### ObjectUtils å¯¹è±¡å·¥å…·ç±»

> `util class`

è¿™ä¸ªç±»ç›®å‰åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå°±æ˜¯

```java
    /**
     * é€šè¿‡åå°„ï¼Œä¸ºä¸€ä¸ªå¯¹è±¡ç”ŸæˆtoStringå­—ç¬¦ä¸²
     */
    public static String toString(Object object);
```

é€šè¿‡åå°„æ¥è·å–ä¸€ä¸ªtoStringå­—ç¬¦ä¸²ã€‚å½“ç„¶ï¼Œä¾æ—§æ— æ³•é¿å…é€’å½’é—®é¢˜ï¼Œä½†æ˜¯å®ƒåŸºæœ¬ä¸Šå¯ä»¥å®ç°ç»å¯¹çš„toStringï¼Œä¸è¿‡è¯´ç™½äº†ï¼Œå°±æ˜¯å­—æ®µçš„é€’å½’è€Œå·²ã€‚





#### ProxyUtils åŠ¨æ€ä»£ç†å·¥å…·ç±»

> `util class`

æä¾›ä¸€äº›æ–¹æ³•æ¥ä½¿ç”¨javaè‡ªå¸¦çš„åŠ¨æ€ä»£ç†æœºåˆ¶æ¥ä¸ºæŸäº›æ³¨è§£ã€æ¥å£ç±»å‹ç”Ÿæˆä»£ç†å¯¹è±¡ã€‚å…¶ä¸­ï¼Œæä¾›äº†æ–¹æ³•ä½¿å¾—ç”Ÿæˆçš„æ³¨è§£ä»£ç†å¯¹è±¡ä¸­ï¼Œæ–¹æ³•çš„è¿”å›å€¼å³ä¸ºè§„å®šçš„é»˜è®¤å€¼ï¼Œæˆ–è€…ä¸ºæŒ‡å®šçš„æ²¡æœ‰é»˜è®¤è¿”å›å€¼çš„æ–¹æ³•æŒ‡å®šé»˜è®¤çš„è¿”å›å€¼ã€‚



å½“ç„¶ï¼Œæœ¬è´¨éƒ½æ˜¯ä¸€æ ·çš„ï¼Œç®€å•çš„åŠ¨æ€ä»£ç†è€Œå·²ã€‚

```java
/**
     * ä»æŸä¸ªç±»ä¸Šè·å–æ³¨è§£çš„ä»£ç†å¯¹è±¡
     *
     * @param annotationType      æ­¤æšä¸¾çš„ç±»å‹
     * @param type          ä»æŸä¸ªç±»èº«ä¸Šæ‹¿åˆ°æ­¤æšä¸¾
     * @param invocationHandlerCreator é€šè¿‡æšä¸¾å¯¹è±¡å’Œç±»è‡ªèº«æ¥æ„å»ºInvocationHandleræ¥å£å¯¹è±¡
     */
    public static <T extends Annotation> T proxy(Class<T> annotationType, Class<?> type, BiFunction<T, Class, InvocationHandler> invocationHandlerCreator);


    /**
     * ä»æŸä¸ªå­—æ®µä¸Šè·å–æ³¨è§£çš„ä»£ç†å¯¹è±¡
     *
     * @param annotationType      æ­¤æšä¸¾çš„ç±»å‹
     * @param field          ä»æŸä¸ªå­—æ®µèº«ä¸Šæ‹¿åˆ°æ­¤æšä¸¾
     * @param invocationHandlerCreator é€šè¿‡æšä¸¾å¯¹è±¡å’Œç±»è‡ªèº«æ¥æ„å»ºInvocationHandleræ¥å£å¯¹è±¡
     */
    public static <T extends Annotation> T proxy(Class<T> annotationType, Field field, BiFunction<T, Field, InvocationHandler> invocationHandlerCreator);

    /**
     * ä»æŸä¸ªå­—æ®µä¸Šè·å–æ³¨è§£çš„ä»£ç†å¯¹è±¡
     *
     * @param annotationType      æ­¤æšä¸¾çš„ç±»å‹
     * @param method          ä»æŸä¸ªæ–¹æ³•èº«ä¸Šæ‹¿åˆ°æ­¤æšä¸¾
     * @param invocationHandlerCreator é€šè¿‡æšä¸¾å¯¹è±¡å’Œç±»è‡ªèº«æ¥æ„å»ºInvocationHandleræ¥å£å¯¹è±¡
     */
    public static <T extends Annotation> T proxy(Class<T> annotationType, Method method, BiFunction<T, Method, InvocationHandler> invocationHandlerCreator);

    /**
     * ä»æŸä¸ªå­—æ®µä¸Šè·å–æ³¨è§£çš„ä»£ç†å¯¹è±¡
     *
     * @param annotationType      æ­¤æšä¸¾çš„ç±»å‹
     * @param parameter          ä»æŸä¸ªæ–¹æ³•å‚æ•°èº«ä¸Šæ‹¿åˆ°æ­¤æšä¸¾
     * @param invocationHandlerCreator é€šè¿‡æšä¸¾å¯¹è±¡å’Œç±»è‡ªèº«æ¥æ„å»ºInvocationHandleræ¥å£å¯¹è±¡
     */
    public static <T extends Annotation> T proxy(Class<T> annotationType, Parameter parameter, BiFunction<T, Parameter, InvocationHandler> invocationHandlerCreator);


    /**
     * ä¸ºä¸€ä¸ªæ¥å£ç”Ÿæˆä»£ç†å¯¹è±¡
     */
    public static <T> T proxy(Class<T> interfaceType, ExProxyHandler<Method, Object[], Object> proxyHandler);

    /**
     * ä¸ºä¸€ä¸ªæ³¨è§£ç±»å‹ç”Ÿæˆä»£ç†å¯¹è±¡
     * @param annotationType    æ³¨è§£ç±»å‹
     * @param proxyHandler      å‡½æ•°ï¼Œæ¥æ”¶æ–¹æ³•ã€å‚æ•°ï¼Œè¿”å›æ–¹æ³•çš„æ‰§è¡Œè¿”å›å€¼
     */
    public static <T extends Annotation> T annotationProxy(Class<T> annotationType, ExProxyHandler<Method, Object[], Object> proxyHandler);

    /**
     * è·å–ä¸€ä¸ªé¢å¤–é»˜è®¤å€¼Map
     * å°±æ˜¯ä¸ªHashMapè€Œå·²ã€‚
     * @return
     */
    public static Map<String, BiFunction<Method, Object[], Object>> getProxyDefaultReturnMap();

    /**
     * é»˜è®¤è¿”å›æ³¨è§£çš„é»˜è®¤å€¼ï¼Œå¦‚æœæ²¡ç”¨é»˜è®¤å€¼åˆ™æŸ¥è¯¢æä¾›çš„é»˜è®¤å€¼Mapï¼Œå¦‚æœæ²¡æœ‰åˆ™æŠ›å‡ºå¼‚å¸¸
     * @param annotationType    æ³¨è§£ç±»å‹
     * @param defaultReturn     é¢å¤–çš„é»˜è®¤å€¼æ˜ å°„ï¼Œkeyä¸ºæ–¹æ³•åï¼Œvalueä¸ºå‡½æ•°ï¼Œæ¥æ”¶æ–¹æ³•ã€å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ‰§è¡Œå€¼
     */
    public static <T extends Annotation> T annotationProxyByDefault(Class<T> annotationType, Map<String, BiFunction<Method, Object[], Object>> defaultReturn);

    /**
     * é»˜è®¤è¿”å›æ³¨è§£çš„é»˜è®¤å€¼ï¼Œå¦‚æœæ²¡ç”¨é»˜è®¤å€¼åˆ™æŸ¥è¯¢æä¾›çš„é»˜è®¤å€¼Mapï¼Œå¦‚æœæ²¡æœ‰åˆ™æŠ›å‡ºå¼‚å¸¸
     * @param annotationType    æ³¨è§£ç±»å‹
     */
    public static <T extends Annotation> T annotationProxyByDefault(Class<T> annotationType);
```



å…¶ä¸­ï¼Œ`ExProxyHandler` æ˜¯ä¸€ä¸ªå‡½æ•°æ¥å£ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š

```java
    /**
     *  å¸¦ç€å¼‚å¸¸å¤„ç†çš„BiFunctionï¼Œç”¨äºæ„å»ºåŠ¨æ€ä»£ç†çš„å‚æ•°
     */
    @FunctionalInterface
    public interface ExProxyHandler<T, U, R> {
        /**
         * å‡½æ•°æ¥å£
         * @param t ç¬¬ä¸€å‚æ•°
         * @param u ç¬¬äºŒå‚æ•°
         * @return  è¿”å›å€¼
         * @throws Throwable ä»»æ„å¼‚å¸¸
         */
        R apply(T t, U u) throws Throwable;
    }
```



### æ­£åˆ™å·¥å…·

> `com.forte.utils.regex`



#### RegexUtil æ­£åˆ™å·¥å…·ç±»

> `util class`



è¯´æ˜¯æ­£åˆ™å·¥å…·ç±»ï¼Œå®é™…ä¸Šå°±æ˜¯æ ¹æ®æ­£åˆ™åˆ‡å‰²å­—ç¬¦ä¸²ã€æˆªå–å­—ç¬¦ä¸²ä»¥åŠè·å–`Pattern`å’Œ`Matcher`å¯¹è±¡è€Œå·²ï¼Œä»¥åŠä¸€ä¸ªä¸æ˜æ„ä¹‰çš„ä»ä¸€æ®µSELECTçš„sqlä¸­æå–å‡ºä½¿ç”¨åˆ°çš„è¡¨åï¼Œè€Œä¸”è¿˜ä¸æ”¯æŒJOINçš„è¡¨è¿æ¥ã€‚



```java
/**
     * é€šè¿‡[aA]è¿™æ ·çš„å½¢å¼å®ç°ç®€å•ç²—æš´çš„å¿½ç•¥å¤§å°å†™ã€‚
     * @param str æ­£åˆ™
     */
    public static String toIgnoreCaseRegex(String str);

    /**
     * è·å–æ­£åˆ™å¯¹åº”çš„pattern
     */
    public static Pattern getPattern(String regex, int flags);

    public static Pattern getPattern(String regex);

    public static Matcher getMatcher(String source, String regex);

    public static Matcher getMatcher(String source, String regex, int flags);

    public static Matcher getMatcher(String source, Pattern pattern);

    /**
     * åˆ‡å‰²å‡ºåŒ¹é…æ­£åˆ™çš„å­—ç¬¦ä¸²åˆ—è¡¨
     * <code>
     *     String s = "abaacaaad";
     *     List<String> list = getSplit(s, "a+");
     *     list -> [a, aa, aaa]
     * </code>
     */
    public static List<String> getSplit(String source, Pattern pattern);

    /**
     * åˆ‡å‰²å‡ºåŒ¹é…æ­£åˆ™çš„å­—ç¬¦ä¸²æµå¯¹è±¡
     */
    public static Stream<String> getSplitStream(String source, Pattern pattern);

    /**
     * åˆ‡å‰²å‡ºåŒ¹é…æ­£åˆ™çš„å­—ç¬¦ä¸²åˆ—è¡¨
     */
    public static List<String> getSplit(String source, String regex);

    /**
     * åˆ‡å‰²å‡ºåŒ¹é…æ­£åˆ™çš„å­—ç¬¦ä¸²åˆ—è¡¨
     */
    public static Stream<String> getSplitStream(String source, String regex);

    /**
     * è·å–å­—ç¬¦ä¸²
     */
    public static String[] getSplitArray(String source, String regex);

    /**
     * è·å–å­—ç¬¦ä¸²
     */
    public static String[] getMatcherArray(String source, Pattern pattern);


    /**
     * è·å–sqlæŸ¥è¯¢è¯­å¥ä¸­ä½¿ç”¨åˆ°çš„è¡¨å
     * æš‚æ—¶ä¸æ”¯æŒjoinç±»å‹çš„æŸ¥è¯¢sql
     * @param selectSql
     * @return
     */
    public static List<String> getTableNameFromSql(String selectSql);
```





### å•ä¾‹å·¥å…·

> `com.forte.utils.single`



#### SingleFactory å•ä¾‹å·¥å‚

> `util class`



è¿™ä¸ªå•ä¾‹å·¥å‚æ˜¯æˆ‘ä¸Šå­¦çš„æ—¶å€™åˆšåˆšçœ‹åˆ°äº†CASä¹è§‚é”æ¦‚å¿µä¹‹åï¼Œåˆæ­£å¥½å­¦åˆ°äº†å•ä¾‹ç›¸å…³çš„çŸ¥è¯†ä¹‹åå†™å‡ºæ¥çš„ä¸œè¥¿ã€‚ç°åœ¨å›æ¥çœ‹çœ‹å…¶å®å†™çš„å¹¶ä¸æ€ä¹ˆæ ·ï¼Œä¹ŸåŸºæœ¬ä¸Šä¸å®Œå…¨æ˜¯CASçš„æ ·å­ã€‚ä¸è¿‡è‡³ä»Šå°šæœªä¼˜åŒ–ï¼Œæ¯•ç«ŸåŠŸèƒ½ä¹Ÿç¡®å®æ˜¯å•ä¾‹å·¥å‚ï¼Œæˆ–è€…è¯´æ˜¯ä¸€ä¸ªå•ä¾‹ä»“åº“æ›´ä¸ºç¡®åˆ‡ï¼Œå°±å…ˆå½“ç•™ç€åšä¸ªçºªå¿µå§ã€‚è€Œä¸”è¯´æ˜¯å•ä¾‹å·¥å‚ï¼Œå®é™…ä¸Šå°±æ˜¯ç”¨Mapä¿å­˜ä¸€ä¸‹è€Œå·²ï¼Œæƒ³è¦çœŸæ­£çš„å®ç°å•ä¾‹è¿˜æ˜¯è¦é è‡ªå·±å•Šã€‚



```java
/** å·¥å‚ */
    public synchronized static SingleFactory build(Object obj);

    /** å·¥å‚ */
    public synchronized static SingleFactory build();

    /**
     * æ¸…ç©ºæ‰€æœ‰ä¿å­˜çš„æ•°æ®
     */
    public void clear();

     /**
     * è·å–å•ä¾‹ï¼Œå¦‚æœæ²¡æœ‰æ­¤ç±»çš„è®°å½•åˆ™è¿”å›ç©º
     */
    public final <T> T get(Class<? extends T> clz);

/**
     * è·å–å•ä¾‹ï¼Œå¦‚æœæ²¡æœ‰åˆ™å°è¯•ä½¿ç”¨åå°„è·å–ä¸€ä¸ªæ–°çš„ï¼Œå°†ä¼šè¢«è®°å½•ã€‚
     * å¦‚æœåˆ›å»ºå¤±è´¥å°†ä¼šæŠ›å‡ºç›¸åº”çš„å¼‚å¸¸
     * @param <T>
     * @return
     */
    public final <T> T getOrNew(Class<T> clz);

    public final <T> T getOrNew(Class<? extends T> clz , Object... params);


    /**
     * å¦‚æœå­˜åœ¨åˆ™è·å–ï¼Œä¸å­˜åœ¨åˆ™èµ‹å€¼
     * @param clz
     * @param t
     * @param <T>
     * @return
     */
    public final <T> T getOrSet(Class<? extends T> clz, T t);

    /**
     * å¦‚æœå­˜åœ¨åˆ™è·å–ï¼Œä¸å­˜åœ¨åˆ™èµ‹å€¼ï¼Œä¸æŒ‡å®šclasså¯¹è±¡
     * @param t
     * @param <T>
     * @return
     */
    public final <T> T getOrSet(T t);


    /**
     * å¦‚æœå­˜åœ¨åˆ™è·å–ï¼Œä¸å­˜åœ¨åˆ™èµ‹å€¼
     * @param clz
     * @param supplier
     * @param <T>
     * @return
     */
    public final <T> T getOrSet(Class<? extends T> clz, Supplier<? extends T> supplier);

    /**
     * å¦‚æœå­˜åœ¨åˆ™è·å–ï¼Œä¸å­˜åœ¨åˆ™èµ‹å€¼ï¼Œä¸æŒ‡å®šclasså¯¹è±¡
     * @param supplier
     * @param <T>
     * @return
     */
    public final <T> T getOrSet(Supplier<? extends T> supplier);

    /**
     * é‡è®¾ä¸€ä¸ªå•ä¾‹
     * @param clz
     * @param t
     * @param <T>
     */
    public final <T> void reset(Class<? extends T> clz , T t);


    /**
     * é‡è®¾ä¸€ä¸ªå•ä¾‹ï¼Œä¸æŒ‡å®šclass
     * @param t
     * @param <T>
     */
    public final <T> void reset(T t);

    /**
     * é‡è®¾ä¸€ä¸ªå•ä¾‹å¹¶è·å–å•ä¾‹å®ä¾‹
     * @param clz
     * @param t
     * @param <T>
     * @return
     */
    public final <T> T resetAndGet(Class<? extends T> clz , T t);


    /**
     * é‡è®¾ä¸€ä¸ªå•ä¾‹å¹¶è·å–å•ä¾‹å®ä¾‹ï¼Œä¸æŒ‡å®šclass
     * @param t
     * @param <T>
     * @return
     */
    public final <T> T resetAndGet(T t);

    /**
     * é‡è®¾ä¸€ä¸ªå•ä¾‹
     * @param clz
     * @param supplier
     * @param <T>
     */
    public final <T> void reset(Class<? extends T> clz , Supplier<? extends T> supplier);


    /**
     * é‡è®¾ä¸€ä¸ªå•ä¾‹ï¼Œä¸æŒ‡å®šclass
     * @param supplier
     * @param <T>
     */
    public final <T> void reset(Supplier<? extends T> supplier);

    /**
     * é‡è®¾ä¸€ä¸ªå•ä¾‹å¹¶è·å–å•ä¾‹å®ä¾‹
     * @param clz
     * @param supplier
     * @param <T>
     * @return
     */
    public final <T> T resetAndGet(Class<? extends T> clz , Supplier<? extends T> supplier);

    /**
     * é‡è®¾ä¸€ä¸ªå•ä¾‹å¹¶è·å–å•ä¾‹å®ä¾‹ï¼Œä¸æŒ‡å®šclass
     * @param supplier
     * @param <T>
     * @return
     */
    public final <T> T resetAndGet(Supplier<? extends T> supplier);


    /**
     * è®°å½•ä¸€ä¸ªå•ä¾‹
     * @param clz
     * @param t
     * @param <T>
     */
    public final <T> void set(Class<? extends T> clz , T t);

    /**
     * è®°å½•ä¸€ä¸ªå•ä¾‹ï¼Œä¸æŒ‡å®šclass
     * @param t
     * @param <T>
     */
    public final <T> void set(T t);

    /**
     * è®°å½•ä¸€ä¸ªå•ä¾‹å¹¶è·å–å•ä¾‹å®ä¾‹
     * @param clz
     * @param t
     * @param <T>
     * @return
     */
    public final <T> T setAndGet(Class<? extends T> clz , T t);


    /**
     * è®°å½•ä¸€ä¸ªå•ä¾‹å¹¶è·å–å•ä¾‹å®ä¾‹ï¼Œä¸æŒ‡å®šclass
     * @param t
     * @param <T>
     * @return
     */
    public final <T> T setAndGet(T t);

    /**
     * è®°å½•ä¸€ä¸ªå•ä¾‹
     * @param clz
     * @param supplier
     * @param <T>
     */
    public final <T> void set(Class<? extends T> clz , Supplier<? extends T> supplier);

    /**
     * è®°å½•ä¸€ä¸ªå•ä¾‹ï¼Œä¸æŒ‡å®šclass
     * @param supplier
     * @param <T>
     */
    public final <T> void set(Supplier<? extends T> supplier);

    /**
     * è®°å½•ä¸€ä¸ªå•ä¾‹å¹¶è·å–å•ä¾‹å®ä¾‹
     * @param clz
     * @param supplier
     * @param <T>
     * @return
     */
    public final <T> T setAndGet(Class<? extends T> clz , Supplier<? extends T> supplier);

    /**
     * è®°å½•ä¸€ä¸ªå•ä¾‹ï¼Œä¸æŒ‡å®šclass
     * @param supplier
     * @param <T>
     * @return
     */
    public final <T> T setAndGet(Supplier<? extends T> supplier);
```





### æµå·¥å…· **`*`**

> `com.forte.utils.stream`



è¿™æ•´ä¸ªå·¥å…·åŒ…ä¸‹ï¼Œéƒ½æ˜¯å¯¹Java8ä¸­çš„`Stream`æµçš„ä¸€ä¸ªæ‹“å±•ï¼Œå¹¶æä¾›äº†ä¸€ä¸ª`ExStream`æ¥ä½œä¸ºç±»ä¼¼äºStreamæµä¸€æ ·çš„å…¥å£ï¼Œæä¾›äº†å¤§é‡çš„æ›´åŠ ç®€åŒ–æ“ä½œçš„æ–¹æ³•ã€‚æ²¡æœ‰ä»€ä¹ˆæŠ€æœ¯å«é‡ï¼Œå°±æ˜¯ç®€åŒ–ä»¥ä¸‹æ“ä½œè€Œå·²ã€‚

æä¾›çš„åŠŸèƒ½æœ‰ä¾‹å¦‚ï¼š

é€šè¿‡ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡åˆ›å»ºæµå¯¹è±¡

```java
    /**
     * ä¸€ä¸ªåŸºäºè¿­ä»£å™¨çš„æµå¯¹è±¡
     * @param iter
     * @param <T>
     * @return
     */
    public static <T> ExStream<T> byIter(Iterator<T> iter, boolean parallel);

    /**
     * åŸºäºè¿­ä»£å™¨çš„æµå¯¹è±¡ï¼Œå¹¶ä½¿ç”¨ExStreamå°è£…
     */
    public static <T> ExStream<T> byIter(Iterator<T> iter);

```

ä»¥åŠå…¶ä»–ä¸€ç³»åˆ—çš„å·¥å‚æ–¹æ³•ï¼Œä¸”è¿”å›å€¼å‡ä¸ºæ­¤åŒ…ä¸‹çš„æ‰©å±•æµå¯¹è±¡(`ExStream`) çš„ç›¸å…³å®ç°ç±»ã€‚

ä¸è¿‡è¿™éƒ¨åˆ†å½“åˆæ‡’äº†æ²¡å†™æ³¨é‡Š..è™½ç„¶çœ‹æ–¹æ³•åå’Œè¿”å›å€¼èƒ½çŒœä¸ªå…«ä¹ä¸ç¦»å

```java
    public static <T> ExStream<T> of(T t);
    public static <T> ExStream<T> of(T... ts) ;
    public static <T> ExStream<T> of(Stream<T> stream) ;
    public static <T> ExStream<T> of(Collection<T> collection);
    public static <K, V> ExMapStream<K, V> of(Map<K, V> map);
    public static <K, V> ExMapStream<K, V> of(Map.Entry<K, V>[] array);
    public static <T> ExStream<T> iterate(final T seed, final UnaryOperator<T> f);
    public static <T> ExStream<T> concat(Stream<? extends T> a, Stream<? extends T> b);
    public static <T> ExStream<T> empty() ;
    public static <T> ExStream<T> generate(Supplier<T> s) ;


    //**************** æ•´åˆå…¶ä»– ****************//
    //**************** byte ****************//

    public static ByteStream ofByte(byte... values) ;
    public static ByteStream ofByte(byte value) ;
    public static ByteStream ofByte(String str);
    public static ByteStream ofByte(Charset charset, byte... values) ;
    public static ByteStream ofByte(Charset charset, byte value);
    public static ByteStream ofByte(String str, Charset charset;
    public static ByteStream ofByte(String str, String charsetName) throws UnsupportedEncodingException ;

    //**************** char ****************//
    public static CharStream ofChar(char c);
    public static CharStream ofChar(char... values);
    public static CharStream ofChar(String string;

    //**************** String ****************//

    public static CharSequenceStream ofString(String s);

    //**************** è½¬åŒ– ****************//

    public CharStream mapToChar(ParseTo.ToChar<T> toChar);
    public ByteStream mapToByte(ParseTo.ToByte<T> toByte);
    public CharSequenceStream mapToCharSequence(Function<T, ? extends CharSequence> toString);
    public StringStream mapToString(Function<T, ? extends String> toString);
```



é™¤äº†å·¥å‚æ–¹æ³•ï¼Œ`ExStream`ç›¸å¯¹äºåŸç‰ˆ`Stream`å¢åŠ äº†ä¸€äº›æ•´åˆæ€§è´¨çš„æ–¹æ³•ï¼š

```java
//**************** ç®€åŒ–ç”¨çš„æ–¹æ³• ****************//
//*** ä¸‹é¢è¿™4ä¸ªç”¨æ¥å¾ªç¯æ‰“å°æ§åˆ¶å°çš„ ***//
    public void forEachSysOut();
    public void forEachSysErr();
    public void forEachPrint(PrintStream printStream);
    public void forEachPrintln(PrintStream printStream);



/**
     * è½¬ä¸ºlist
     */
    public List<T> toList();
    /**
     * è½¬åŒ–ä¸ºset
     */
    public Set<T> toSet();
    /**
     * è½¬åŒ–ä¸ºMap
     */
    public <K, V> Map<K, V> toMap(Function<? super T, ? extends K> keyMapper,
                                  Function<? super T, ? extends V> valueMapper);
    /**
     * è½¬åŒ–ä¸ºMap
     */
    public <K, V> Map<K, V> toMap(Function<? super T, ? extends K> keyMapper,
                                  Function<? super T, ? extends V> valueMapper,
                                  BinaryOperator<V> mergeFunction);
    /**
     * è½¬åŒ–ä¸ºMapï¼Œå¦‚æœå‡ºç°é”®å†²çªåˆ™ç›´æ¥ä½¿ç”¨åŸç‰ˆStreamçš„å¼‚å¸¸æ–¹æ³•
     */
    public <K, V, M extends Map<K, V>> Map<K, V> toMap(Function<? super T, ? extends K> keyMapper,
                                                       Function<? super T, ? extends V> valueMapper,
                                                       Supplier<M> mapSupplier);
    /**
     * è½¬åŒ–ä¸ºMap
     */
    public <K, U, M extends Map<K, U>>
    M toMap(Function<? super T, ? extends K> keyMapper,
            Function<? super T, ? extends U> valueMapper,
            BinaryOperator<U> mergeFunction,
            Supplier<M> mapSupplier);
    /**
     * è½¬åŒ–ä¸ºMapStream
     */
    public <K, V> ExMapStream<K, V> maptoMap(Function<? super T, ? extends K> keyMapper,
                                                Function<? super T, ? extends V> valueMapper);
    /**
     * è½¬åŒ–ä¸ºMapStream
     */
    public <K, V> ExMapStream<K, V> maptoMap(Function<? super T, ? extends K> keyMapper,
                                                Function<? super T, ? extends V> valueMapper,
                                                BinaryOperator<V> mergeFunction);
    /**
     * è½¬åŒ–ä¸ºMapStreamï¼Œå¦‚æœå‡ºç°é”®å†²çªåˆ™ç›´æ¥ä½¿ç”¨åŸç‰ˆStreamçš„å¼‚å¸¸æ–¹æ³•
     */
    public <K, V, M extends Map<K, V>> ExMapStream<K, V> maptoMap(Function<? super T, ? extends K> keyMapper,
                                                                     Function<? super T, ? extends V> valueMapper,
                                                                     Supplier<M> mapSupplier);
    /**
     * è½¬åŒ–ä¸ºMapStream
     */
    public <K, U, M extends Map<K, U>>
    ExMapStream<K, U> maptoMap(Function<? super T, ? extends K> keyMapper,
                                  Function<? super T, ? extends U> valueMapper,
                                  BinaryOperator<U> mergeFunction,
                                  Supplier<M> mapSupplier);

    /**
     * è½¬åŒ–åtoList
     */
    public <R> List<R> toList(Function<T, R> mapper);
    /**
     * è½¬åŒ–åæ’åºåtoList
     */
    public <R> List<R> toListSorted(Function<T, R> mapper);
    /**
     * æ’åºåè½¬åŒ–åtolist
     */
    public <R> List<R> sortedToList(Function<T, R> mapper);
    /**
     * è½¬åŒ–åæ’åºåtoList
     */
    public <R> List<R> toListSorted(Function<T, R> mapper, Comparator<R> comparator);
    /**
     * æ’åºåè½¬åŒ–åtolist
     */
    public <R> List<R> sortedToList(Function<T, R> mapper, Comparator<T> comparator);
    /**
     * joining
     */
    public String joining(Function<T, String> mapper);
    /**
     * joining
     */
    public String joining(Function<T, String> mapper, CharSequence delimiter);
    /**
     * joining
     */
    public String joining(Function<T, String> mapper,
                          CharSequence delimiter,
                          CharSequence prefix,
                          CharSequence suffix);
    /**
     * groupBy
     */
    public <K> Map<? extends K, List<T>> groupBy(Function<? super T, ? extends K> classifier);
    /**
     * groupBy
     */
    public <K, A, D> Map<? extends K, D> groupBy(Function<? super T, ? extends K> classifier,
                                                 Collector<? super T, A, D> downstream);
    /**
     * groupBy
     */
    public <K, A, D, M extends Map<K, D>> M groupBy(Function<? super T, ? extends K> classifier,
                                                    Supplier<M> mapFactory,
                                                    Collector<? super T, A, D> downstream) ;
    /**
     * groupByConcurrent
     */
    public <K> Map<? extends K, List<T>> groupByConcurrent(Function<? super T, ? extends K> classifier);
    /**
     * groupByConcurrent
     */
    public <K, A, D> Map<? extends K, D> groupByConcurrent(Function<? super T, ? extends K> classifier,
                                                           Collector<? super T, A, D> downstream);
    /**
     * groupByConcurrent
     */
    public <K, A, D, M extends ConcurrentMap<K, D>> M groupByConcurrent(Function<? super T, ? extends K> classifier,
                                                                        Supplier<M> mapFactory,
                                                                        Collector<? super T, A, D> downstream);
    /**
     * concat
     */
    public ExStream<T> concat(Stream<T> concat);
    public ExStream<T> concat(T t);
    public ExStream<T> concat(T... t);
    public ExStream<T> concat(Collection<T> collection);

```



åŸºæœ¬ä¸Šä¹Ÿå°±æ˜¯çœç•¥äº†ä¸­é—´çš„ä¸€æ­¥`collect(...)`è€Œå·²ã€‚

é™¤äº†`ExStream`ä¸­æä¾›çš„è¿™äº›é¢å¤–çš„æ•´åˆæ–¹æ³•ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€äº›å†ç»†ä¸€å±‚çš„å®ç°ç±»ï¼š

```
ByteStream
CharSequenceStream
CharStream
ExMapStream
FileStream
StringStream
```



è¿™äº›ç±»ä¸­éƒ½æˆ–å¤šæˆ–å°‘çš„æä¾›äº†ä¸€äº›é’ˆå¯¹æŸç§ç‰¹å®šç±»å‹çš„Streamçš„ç®€åŒ–æ“ä½œï¼Œä¾‹å¦‚`StringStream`ä¸­æœ‰trim() æ–¹æ³•è¿›è¡Œå»ç©ºç­‰ç­‰ï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†ã€‚



### çº¿ç¨‹å·¥å…·

> `com.forte.utils.thread`





#### BaseLocalThreadPool çº¿ç¨‹æ± å·¥å‚

> `util class`



è¿™ä¸ªçº¿ç¨‹æ± å·¥å…·ç±»ä¹Ÿæ˜¯æˆ‘åœ¨ä¸Šå­¦çš„æ—¶å€™ï¼Œé‚£æ—¶å€™çœ‹åˆ°äº†çº¿ç¨‹æ± è¿™ä¸ªä¸œè¥¿ï¼Œå¹¶ä»¿ç…§ç½‘ä¸Šçš„æ•™ç¨‹å†™å‡ºäº†ä¸€ä¸ªç®€å•çš„çº¿ç¨‹æ± ä¹‹åï¼ŒèŒç”Ÿäº†å†™ä¸€ä¸ªçº¿ç¨‹æ± å·¥å‚çš„æƒ³æ³•ã€‚ç°åœ¨çœ‹çœ‹å¯èƒ½æœ‰äº›ä¸è¶³ä¹‹å¤„ï¼Œä¸è¿‡åŠŸèƒ½ä¾æ—§æ˜¯å¯ä»¥å®ç°çš„ã€‚



çº¿ç¨‹æ± å·¥å‚æ‰€ä½¿ç”¨çš„çº¿ç¨‹æ± æ¡†æ¶æ˜¯Javaä¸­è‡ªå¸¦çš„ã€‚

```java
/**
     * åˆ›å»ºçº¿ç¨‹æ± çš„å·¥å‚,æ— åç§°ï¼Œä½¿ç”¨é»˜è®¤
     * @return
     */
    public static Executor getThreadPool();

    /**
     * åˆ›å»ºçº¿ç¨‹æ± çš„å·¥å‚
     *
     * @param poolName åˆ›å»ºçš„çº¿ç¨‹æ± çš„åç§°
     * @return
     */
    public static Executor getThreadPool(String poolName);

    /**
     * åˆ›å»ºçº¿ç¨‹æ± çš„å·¥å‚,æ— åç§°ï¼Œä½¿ç”¨é»˜è®¤
     *
     * @return
     */
    public static Executor getThreadPool(PoolConfig poolConfig);

    /**
     * åˆ›å»ºçº¿ç¨‹æ± çš„å·¥å‚
     *
     * @param poolName åˆ›å»ºçš„çº¿ç¨‹æ± çš„åç§°
     * @return
     */
    public static Executor getThreadPool(String poolName, PoolConfig poolConfig);

    /**
     * æ¸…é™¤æŸæŒ‡å®šçš„çº¿ç¨‹æ± 
     *
     * @param poolName
     * @return
     */
    public static boolean removeThreadPool(String poolName);

    /**
     * è·å–æœ¬çº¿ç¨‹ä¸­çš„çº¿ç¨‹æ± 
     *
     * @return
     */
    public static Executor getLocalThreadPool();

    /**
     * æ¸…é™¤æœ¬çº¿ç¨‹ä¸­çš„çº¿ç¨‹æ± 
     */
    public static boolean removeLocalThreadPool();

    /**
     * è·å–çº¿ç¨‹å·¥å‚
     *
     * @return
     */
    public static ThreadFactory getFactory();


```



å…¶ä¸­ï¼Œ`PoolConfig` æ˜¯ä¸€ä¸ªå¯¹çº¿ç¨‹æ± åˆ›å»ºæ‰€éœ€è¦çš„å‚æ•°çš„æ•´åˆå°è£…ç±»ã€‚

```java
/**
     * é…ç½®ç±»ï¼Œæä¾›å‡ ä¸ªå‚æ•°
     */
    public static class PoolConfig{
        /**
         * æ ¸å¿ƒæ± çš„å¤§å°
         */
        private int corePoolSize = 0;

        /**
         * çº¿ç¨‹æ± æœ€å¤§çº¿ç¨‹æ•°ï¼Œè¿™ä¸ªå‚æ•°ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„å‚æ•°ï¼Œå®ƒè¡¨ç¤ºåœ¨çº¿ç¨‹æ± ä¸­æœ€å¤šèƒ½åˆ›å»ºå¤šå°‘ä¸ªçº¿ç¨‹ï¼›
         */
        private int maximumPoolSize = 500;

        /**
         * è¡¨ç¤ºçº¿ç¨‹æ²¡æœ‰ä»»åŠ¡æ‰§è¡Œæ—¶æœ€å¤šä¿æŒå¤šä¹…æ—¶é—´ä¼šç»ˆæ­¢ã€‚
         * é»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰å½“çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°å¤§äºcorePoolSizeæ—¶ï¼ŒkeepAliveTimeæ‰ä¼šèµ·ä½œç”¨ï¼Œ
         * ç›´åˆ°çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ä¸å¤§äºcorePoolSizeï¼Œå³å½“çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°å¤§äºcorePoolSizeæ—¶ï¼Œ
         * å¦‚æœä¸€ä¸ªçº¿ç¨‹ç©ºé—²çš„æ—¶é—´è¾¾åˆ°keepAliveTimeï¼Œåˆ™ä¼šç»ˆæ­¢ï¼Œç›´åˆ°çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ä¸è¶…è¿‡corePoolSizeã€‚
         * ä½†æ˜¯å¦‚æœè°ƒç”¨äº†allowCoreThreadTimeOut(boolean)æ–¹æ³•ï¼Œåœ¨çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ä¸å¤§äºcorePoolSizeæ—¶ï¼ŒkeepAliveTimeå‚æ•°ä¹Ÿä¼šèµ·ä½œç”¨ï¼Œ
         * ç›´åˆ°çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ä¸º0ï¼›
         */
        private long keepAliveTime = 5;

        /**
         * unitï¼šå‚æ•°keepAliveTimeçš„æ—¶é—´å•ä½ï¼Œæœ‰7ç§å–å€¼ï¼Œåœ¨TimeUnitç±»ä¸­æœ‰7ç§é™æ€å±æ€§:
         * TimeUnit.DAYS;              //å¤©
         * TimeUnit.HOURS;             //å°æ—¶
         * TimeUnit.MINUTES;           //åˆ†é’Ÿ
         * TimeUnit.SECONDS;           //ç§’
         * TimeUnit.MILLISECONDS;      //æ¯«ç§’
         * TimeUnit.MICROSECONDS;      //å¾®å¦™
         * TimeUnit.NANOSECONDS;       //çº³ç§’
         */
        private TimeUnit timeUnit = TimeUnit.MILLISECONDS;

        /**
         * ä¸€ä¸ªé˜»å¡é˜Ÿåˆ—ï¼Œç”¨æ¥å­˜å‚¨ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡ï¼Œè¿™ä¸ªå‚æ•°çš„é€‰æ‹©ä¹Ÿå¾ˆé‡è¦ï¼Œ
         * ä¼šå¯¹çº¿ç¨‹æ± çš„è¿è¡Œè¿‡ç¨‹äº§ç”Ÿé‡å¤§å½±å“ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œè¿™é‡Œçš„é˜»å¡é˜Ÿåˆ—æœ‰ä»¥ä¸‹å‡ ç§é€‰æ‹©ï¼š
         * ArrayBlockingQueue;
         * LinkedBlockingQueue;
         * SynchronousQueue;
         * ArrayBlockingQueueå’ŒPriorityBlockingQueueä½¿ç”¨è¾ƒå°‘ï¼Œä¸€èˆ¬ä½¿ç”¨LinkedBlockingQueueå’ŒSynchronousã€‚
         * çº¿ç¨‹æ± çš„æ’é˜Ÿç­–ç•¥ä¸BlockingQueueæœ‰å…³ã€‚
         */
        private BlockingQueue<Runnable> workQueue = new SynchronousQueue<>();

        /**
         * çº¿ç¨‹å·¥å‚ï¼Œä¸»è¦ç”¨æ¥åˆ›å»ºçº¿ç¨‹ï¼›
         */
        private ThreadFactory defaultThreadFactory = Thread::new;

        //**************** æ„é€  & setter & getter ****************//

        public PoolConfig() {
        }
        
        public PoolConfig(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit timeUnit, BlockingQueue<Runnable> workQueue, ThreadFactory defaultThreadFactory) {
            this.corePoolSize = corePoolSize;
            this.maximumPoolSize = maximumPoolSize;
            this.keepAliveTime = keepAliveTime;
            this.timeUnit = timeUnit;
            this.workQueue = workQueue;
            this.defaultThreadFactory = defaultThreadFactory;
        }

       // getter & setter ....
    }

```









#### DelayUtil ã€ ParallelUtil å»¶è¿Ÿã€å¾ªç¯ã€åŒæ­¥çº¿ç¨‹æ–¹æ³•

> `util package`



è¿™ç©æ„å„¿ä¹Ÿæ˜¯æˆ‘ä¸Šå­¦çš„æ—¶å€™å†™çš„..... æˆ‘å‘ç°æˆ‘ä¸Šå­¦çš„æ—¶å€™æ˜¯çœŸçš„é—²ã€‚



DelayUtil ä¸­ï¼Œæä¾›äº†ä¸€ç³»åˆ—æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªå»¶è¿Ÿä¸€æ®µæ—¶é—´ä¹‹åæ‰§è¡Œçš„æ–¹æ³•æˆ–è€…æ¯éš”ä¸€æ®µæ—¶é—´å°±æ‰§è¡Œä¸€æ¬¡çš„æ–¹æ³•ã€‚å†…éƒ¨æ•´åˆä¸Šé¢æåˆ°çš„çº¿ç¨‹æ± å·¥å‚ã€‚

```java
/**
	 * å¾ªç¯æ‰§è¡Œæ–¹æ³•
	 * 
	 * @param clazz
	 *            æ‰§è¡Œæ–¹æ³•çš„classå¯¹è±¡
	 * @param method
	 *            è¦æ‰§è¡Œçš„æ–¹æ³•
	 * @param m
	 *            å¾ªç¯é—´éš”
	 * @param args
	 *            æ–¹æ³•å‚æ•°
	 * @return ForteTimeBeanå¯¹è±¡ï¼Œç”¨äºç»ˆæ­¢
	 */
	public static <T> DelayBean<T> interval(Class<T> clazz, String method, long m, Object... args);

	/**
	 * å¾ªç¯æ‰§è¡Œæ–¹æ³• - å‡½æ•°æ¥å£
	 * 
	 * @param f
	 *            å‡½æ•°å¼æ¥å£ï¼Œåœ¨å½“éœ€è¦å¾ªç¯è°ƒç”¨ä¸€äº›å¹¶éç‰¹å®šå¯¹è±¡çš„æ–¹æ³•çš„æ—¶å€™å¯ä»¥ä½¿ç”¨æ­¤å‡½æ•°å¼æ¥å£
	 * @param m
	 *            å»¶æ—¶æ—¶é•¿
	 * @param args
	 *            æ–¹æ³•å‚æ•°ï¼Œè‹¥æ²¡æœ‰åˆ™ä¸å¡«
	 * @return å»¶æ—¶å¯¹è±¡ï¼Œç”¨äºç»“æŸå»¶æ—¶
	 */
	public static DelayBean interval(DelayFunc f, long m, Object... args);

	/**
	 * è®¾ç½®æ–¹æ³•å»¶è¿Ÿæ‰§è¡Œ
	 * 
	 * @param object
	 *            æ‰§è¡Œæ–¹æ³•çš„å¯¹è±¡
	 * @param method
	 *            è¦æ‰§è¡Œçš„æ–¹æ³•
	 * @param m
	 *            å¾ªç¯é—´éš”
	 * @param args
	 *            æ–¹æ³•å‚æ•°
	 * @return ForteTimeBeanå¯¹è±¡ï¼Œç”¨äºç»ˆæ­¢
	 */
	public static <T> DelayBean<T> timeout(Class<T> object, String method, long m, Object... args);

	/**
	 * å¾ªç¯æ‰§è¡Œæ–¹æ³• - å‡½æ•°æ¥å£
	 * 
	 * @param f
	 *            å‡½æ•°å¼æ¥å£ï¼Œåœ¨å½“éœ€è¦å¾ªç¯è°ƒç”¨ä¸€äº›å¹¶éç‰¹å®šå¯¹è±¡çš„æ–¹æ³•çš„æ—¶å€™å¯ä»¥ä½¿ç”¨æ­¤å‡½æ•°å¼æ¥å£
	 * @param m
	 *            å»¶æ—¶æ—¶é•¿
	 * @param args
	 *            æ–¹æ³•å‚æ•°ï¼Œè‹¥æ²¡æœ‰åˆ™ä¸å¡«
	 * @return å»¶æ—¶å¯¹è±¡ï¼Œç”¨äºç»“æŸå»¶æ—¶
	 */
	@SafeVarargs
	public static DelayBean timeout(DelayFunc f, long m, Object... args);

	/**
	 * ç§»é™¤å»¶æ—¶æ‰§è¡Œ
	 * 
	 * @param timeBean
	 *            ForteTimeBeanå¯¹è±¡
	 */
	public static void stop(DelayBean timeBean);

	/**
	 * ç§»é™¤å»¶æ—¶æ‰§è¡Œ - å»¶æ—¶millisåæ‰§è¡Œ
	 * 
	 * @param TimeBean
	 * @param millis
	 */
	public static void stop(DelayBean TimeBean, long millis);

	/**
	 * æ¸…é™¤å…¨éƒ¨ä»»åŠ¡
	 */
	public static void clear();
```





ParallelUtil ä¸­æä¾›äº†ä¸€äº›æ–¹æ³•ä»¥æä¾›å¹¶è¡Œæ–¹æ³•ï¼Œå³ä¸€ä¸ªå¤§ä»»åŠ¡ä¸­ï¼Œåªæœ‰å½“æ‰€æœ‰çš„ä»»åŠ¡æ‰§è¡Œå®Œæˆåæ‰ä¼šç»§ç»­çš„ä»»åŠ¡ã€‚æ¯ä¸ªä»»åŠ¡éƒ½æ˜¯ä¸€ä¸ªçº¿ç¨‹ã€‚

ä¸è¿‡åœ¨å®é™…åº”ç”¨ä¸­å‘ç°ï¼Œä¼¼ä¹å­˜åœ¨bugã€‚ä¸è¿‡ï¼Œå¦‚æœä»»åŠ¡é‡æ¯”è¾ƒå°‘çš„è¯åº”è¯¥è¿˜æ˜¯æ²¡é—®é¢˜çš„ã€‚å½“ç„¶ï¼Œå…¶å®ç›¸å¯¹äºç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè¿˜æ˜¯é¦–å…ˆæ¨èä½¿ç”¨Streamæµçš„å¹¶è¡Œæµæ¥çš„ä¿é™©ã€‚

```java

    /**
     * åˆ›å»ºä¸€ä¸ªåŒæ­¥ä»»åŠ¡
     * @param taskName
     * ä»»åŠ¡åç§°
     * @param singleListener
     * ä»»åŠ¡å•ç‹¬çš„ç›‘å¬å™¨
     * @param fs
     * ä»»åŠ¡å‡½æ•°åˆ—è¡¨
     * @return
     */
    public static Parallel parallel(String taskName , ParallelSingleListener singleListener , ParallelTaskFunc[] fs);

    /**
     * åˆ›å»ºä¸€ä¸ªåŒæ­¥ä»»åŠ¡
     * @param taskName
     * ä»»åŠ¡åç§°
     * @param fs
     * ä»»åŠ¡å‡½æ•°åˆ—è¡¨
     * @return
     */
    public static Parallel parallel(String taskName , ParallelTaskFunc[] fs);

    /**
     * åˆ›å»ºä¸€ä¸ªåŒæ­¥ä»»åŠ¡
     * @param singleListener
     * æ­¤ä»»åŠ¡å•ç‹¬çš„ç›‘å¬å™¨
     * @param fs
     * ä»»åŠ¡å‡½æ•°åˆ—è¡¨
     * @return
     */
    public static Parallel parallel(ParallelSingleListener singleListener , ParallelTaskFunc[] fs);

    /**
     * åˆ›å»ºä¸€ä¸ªåŒæ­¥ä»»åŠ¡
     * @param fs
     * ä»»åŠ¡å‡½æ•°åˆ—è¡¨
     * @return
     */
    public static Parallel parallel(ParallelTaskFunc[] fs);


    /**
     * è·å–ä¸€ä¸ªå¤šä¸ªåŒæ­¥ä»»åŠ¡åŒæ—¶è¿›è¡Œçš„åŒæ­¥ä»»åŠ¡
     * @param taskName
     * ä»»åŠ¡åç§°
     * @param singleListener
     * åŒæ­¥ä»»åŠ¡å•ç‹¬ç›‘å¬å™¨
     * @param parallels
     * åŒæ­¥ä»»åŠ¡åˆ—è¡¨
     * @return
     */
    public static Parallel parallelList(String taskName , ParallelSingleListener singleListener , Parallel... parallels);

    /**
     * è·å–ä¸€ä¸ªå¤šä¸ªåŒæ­¥ä»»åŠ¡åŒæ—¶è¿›è¡Œçš„åŒæ­¥ä»»åŠ¡
     * @param singleListener
     * åŒæ­¥ä»»åŠ¡å•ç‹¬ç›‘å¬å™¨
     * @param parallels
     * åŒæ­¥ä»»åŠ¡åˆ—è¡¨
     * @return
     */
    public static Parallel parallelList(ParallelSingleListener singleListener , Parallel... parallels);

    /**
     * è·å–ä¸€ä¸ªå¤šä¸ªåŒæ­¥ä»»åŠ¡åŒæ—¶è¿›è¡Œçš„åŒæ­¥ä»»åŠ¡
     * @param taskName
     * ä»»åŠ¡åç§°
     * @param parallels
     * åŒæ­¥ä»»åŠ¡åˆ—è¡¨
     * @return
     */
    public static Parallel parallelList(String taskName , Parallel... parallels);

    /**
     * è·å–ä¸€ä¸ªå¤šä¸ªåŒæ­¥ä»»åŠ¡åŒæ—¶è¿›è¡Œçš„åŒæ­¥ä»»åŠ¡
     * @param parallels
     * åŒæ­¥ä»»åŠ¡åˆ—è¡¨
     * @return
     */
    public static Parallel parallelList(Parallel... parallels);




    /**
     * è®¾ç½®å…¨å±€ç›‘å¬å™¨
     * @param listener
     * å…¨å±€ç›‘å¬å™¨çš„å®ç°å¯¹è±¡
     */
    public static void setGlobalListener(ParallelGlobalListener listener);

    /**
     * è®¾ç½®å…¨å±€ç›‘å¬å™¨
     * @param listenerClass
     * å…¨å±€ç›‘å¬å™¨çš„classå¯¹è±¡
     */
    public static void setGlobalListener(Class<? extends ParallelGlobalListener> listenerClass);
```







### æ—¶é—´å·¥å…·

> `com.forte.utils.time`



#### DateDifferenceUtils æ—¶é—´å·®å·¥å…·

> `util class`



è¿™ä¸ªæ˜¯å½“åˆä»ç½‘ä¸Šå«–çš„ä»£ç è‡ªå·±æ”¹çš„..æ˜¯è®¡ç®—ä¸¤ä¸ªæ—¶é—´ä¸­é—´ç›¸å·®çš„å¤©ã€å°æ—¶ã€åˆ†é’Ÿç­‰ç­‰çš„ä¿¡æ¯ã€‚

```java
 /**
     * è·å–ä¸¤ä¸ªæ—¶é—´ä¹‹é—´ç›¸å·®çš„å„ä¸ªæ—¶é—´ç±»å‹
     *
     * @param start  å¼€å§‹æ—¶é—´
     * @param end    ç»“æŸæ—¶é—´
     * @param format æ ¼å¼åŒ–æ–¹æ³•
     * @return
     */
    public static DateDiff dateDiff(String start, String end, String format);

/**
     * è·å–ä¸¤ä¸ªæ—¶é—´ä¹‹é—´ç›¸å·®çš„å„ä¸ªæ—¶é—´ç±»å‹
     *
     * @param start
     * @param end
     * @return
     */
    public static DateDiff dateDiff(Date start, Date end) ;
```



å…¶ä¸­ï¼ŒDateDiffæ˜¯è¿”å›å€¼çš„å°è£…ç±»ï¼Œå…¶å®ç°å¦‚ä¸‹ï¼š

```java
/**
     * æ—¶é—´å·®çš„å°è£…ç±»
     */
    public static class DateDiff {
        private long difference;
        private long day;
        private long hour;
        private long minute;
        private long second;
        private long millisecond;
        
        // getter & setter 
        
    }
```





#### SimpleDateUtils ç®€æ˜“æ—¶é—´å·¥å…·ç±»

> `com.forte.utils.time`



è¿™ä¸ªå°±ä¸ä¸€æ ·äº†ï¼Œè¿™æ˜¯æˆ‘å®ä¹ çš„æ—¶å€™å‚åŠ çš„é‚£ä¸ªé¡¹ç›®ä¸€è¾¹å·¥ä½œä¸€è¾¹æ ¹æ®ä¸€äº›çƒ¦äººçš„éœ€æ±‚å†™çš„ã€‚ç„¶åå°±é¡ºæ‰‹æ”¶å½•è¿›æ¥äº†ã€‚

```java
/**
     * è·å–å‘å‰æ¨nä¸ªæœˆçš„æ¯ä¸ªæœˆçš„æœˆåˆæ—¥æœŸ
     * è¿”å›å€¼ä¸ºyyyy-MM-dd
     * ä¾‹å¦‚ï¼šå‡å¦‚ä»Šå¤©æ˜¯2019-4-30ï¼Œåˆ™lastMonthByDay(3,true)è¿”å›å€¼å°±æ˜¯ï¼š
     * [
     * 2019-04-01,
     * 2019-03-01,
     * 2019-02-01
     * ]
     * @param nums å‘å‰æ¨ç§»å¤šå°‘ä¸ªæœˆ
     * @param fromNow æ˜¯ä»ä»Šå¤©å¼€å§‹è¿˜æ˜¯ä¸Šä¸ªæœˆå¼€å§‹
     */
   public static List<LocalDate> beforeMonthByDay(int nums, boolean fromNow);

    /**
     * è·å–å‘åæ¨nä¸ªæœˆçš„æ¯ä¸ªæœˆçš„æœˆåˆæ—¥æœŸ
     * è¿”å›å€¼ä¸ºyyyy-MM-dd
     * ä¾‹å¦‚ï¼šå‡å¦‚ä»Šå¤©æ˜¯2019-4-30ï¼Œåˆ™lastMonthByDay(3,true)è¿”å›å€¼å°±æ˜¯ï¼š
     * [
     * 2019-04-01,
     * 2019-03-01,
     * 2019-02-01
     * ]
     * @param nums å‘å‰æ¨ç§»å¤šå°‘ä¸ªæœˆ
     * @param fromNow æ˜¯ä»ä»Šå¤©å¼€å§‹è¿˜æ˜¯ä¸Šä¸ªæœˆå¼€å§‹
     */
   public static List<String> beforeMonthByDayToString(int nums, boolean fromNow);

    /**
     * è·å–å‘å‰æ¨nä¸ªæœˆçš„æ¯ä¸ªæœˆçš„æœˆåˆæ—¥æœŸ
     * è¿”å›å€¼ä¸ºyyyy-MM
     * ä¾‹å¦‚ï¼šå‡å¦‚ä»Šå¤©æ˜¯2019-4-30ï¼Œåˆ™lastMonthByMonth(3,true)è¿”å›å€¼å°±æ˜¯ï¼š
     * [
     * 2019-04,
     * 2019-03,
     * 2019-02
     * ]
     * @param nums å‘å‰æ¨ç§»å¤šå°‘ä¸ªæœˆ
     * @param fromNow æ˜¯ä»ä»Šå¤©å¼€å§‹è¿˜æ˜¯ä¸Šä¸ªæœˆå¼€å§‹
     */
    public static List<YearMonth> beforeMonthByMonth(int nums, boolean fromNow);

    /**
     * è·å–å‘åæ¨nä¸ªæœˆçš„æ¯ä¸ªæœˆçš„æœˆåˆæ—¥æœŸ
     * è¿”å›å€¼ä¸ºyyyy-MM
     * ä¾‹å¦‚ï¼šå‡å¦‚ä»Šå¤©æ˜¯2019-4-30ï¼Œåˆ™lastMonthByMonth(3,true)è¿”å›å€¼å°±æ˜¯ï¼š
     * [
     * 2019-04,
     * 2019-03,
     * 2019-02
     * ]
     * @param nums å‘å‰æ¨ç§»å¤šå°‘ä¸ªæœˆ
     * @param fromNow æ˜¯ä»ä»Šå¤©å¼€å§‹è¿˜æ˜¯ä¸Šä¸ªæœˆå¼€å§‹
     */
    public static List<String> beforeMonthByMonthToString(int nums, boolean fromNow);


    /**
     * å‘å‰æ¨nå¤©çš„æ•°ç»„
     * ä¾‹å¦‚ï¼Œä»Šå¤©æ˜¯2019-01-10,beforeDays(3, false)
     * å°±æ˜¯
     * [2019-01-09, 2019-01-08, 2019-01-07]
     * @param days      æ¨å‡ å¤©
     * @param fromNow   æ˜¯å¦åŒ…æ‹¬ä»Šå¤©
     * @return
     */
    public static List<LocalDate> beforeDays(int days, boolean fromNow);

    /**
     * å‘å‰æ¨nå¤©çš„æ•°ç»„
     * ä¾‹å¦‚ï¼Œä»Šå¤©æ˜¯2019-01-10,beforeDays(3, false)
     * å°±æ˜¯
     * [2019-01-09, 2019-01-08, 2019-01-07]
     * @param days      æ¨å‡ å¤©
     * @param fromNow   æ˜¯å¦åŒ…æ‹¬ä»Šå¤©
     * @return
     */
    public static List<String> beforeDaysToString(int days, boolean fromNow);

    /**
     * å‘å‰æ¨nå¤©çš„æ•°ç»„
     * ä¾‹å¦‚ï¼Œä»Šå¤©æ˜¯2019-01-10,beforeDays(3, false)
     * å°±æ˜¯
     * [2019-01-09, 2019-01-08, 2019-01-07]
     *
     * beforeDaysToString(1, false, String[]::new)
     * @param days      æ¨å‡ å¤©
     * @param fromNow   æ˜¯å¦åŒ…æ‹¬ä»Šå¤©
     */
    public static String[] beforeDaysToString(int days, boolean fromNow, IntFunction<String[]> generator);

    /**
     * å‘å‰æ¨nå¹´ï¼Œç±»ä¼¼äºè¿‘5å¹´ã€è¿‘6å¹´è¿™æ ·å­
     * @param years
     * @param fromNow
     * @return
     */
    public static List<Year> beforeYears(int years, boolean fromNow);

    /**
     * å‘å‰æ¨nå¹´ï¼Œç±»ä¼¼äºè¿‘5å¹´ã€è¿‘6å¹´è¿™æ ·å­
     */
    public static List<String> beforeYearsToString(int years, boolean fromNow);

    /**
     * å°†DayOfWeekè½¬åŒ–ä¸ºä¸­æ–‡çš„æ˜ŸæœŸå­—ç¬¦ä¸²
     */
    public static String toChineseWeekDay(DayOfWeek dayOfWeek);

    /**
     * å°†DayOfWeekè½¬åŒ–ä¸ºä¸­æ–‡çš„æ˜ŸæœŸå­—ç¬¦ä¸²
     */
    public static String toChineseWeekDay();

    /**
     * å¤åˆ¶ä¸€ä¸ª{@link #DAY_OF_WEEK_CHINESE_MAP}å­—æ®µ
     */
    public static Map<Integer, String> getDayOfWeekChineseMap();


    /**
     * è·å–æ˜ŸæœŸå¯¹åº”ä¸­æ–‡å­—ç¬¦ä¸²æ•°ç»„
     */
    public static String[] getDayOfWeekChineseStr();

    /** è·å–æŸå¹´æ‰€æœ‰æœˆä»½ -yyyy-MM */
    public static List<YearMonth> getAllYearMonth(Year year);

    /** è·å–æŸå¹´æ‰€æœ‰æœˆä»½ - yyyy-MM */
    public static List<YearMonth> getAllYearMonth(String yearStr);

    /** è·å–æŸå¹´æ‰€æœ‰æœˆä»½ - yyyy-MM */
    public static List<String> getAllYearMonthToString(Year year);

    /** è·å–æŸå¹´æ‰€æœ‰æœˆä»½ - yyyy-MM */
    public static List<String> getAllYearMonthToString(String yearStr);

    /** è·å–æ‰€æœ‰æœˆä»½æ•°ç»„ï¼Œ01-12 */
    public static String[] getAllMonth();

    /** è·å–æ‰€æœ‰æœˆä»½æ•°ç»„ï¼Œ1-12ï¼Œé¦–éƒ¨ä¸è¡¥é›¶ */
    public static String[] getAllMonthNo0();

    public static Year instantToYear(Instant instant);
```



#### Stopwatch ç§’è¡¨

> `util class`



æœ‰æ—¶å€™ï¼Œä½ æƒ³è®¡ç®—æ–¹æ³•æ‰§è¡Œå‰åçš„ç”¨æ—¶ï¼Œä½†æ˜¯åˆå«Œå†™ä¸¤é`System.currentTimeMillis()` ç„¶ååœ¨ç®—ä¸ªå‡æ³•å¤ªéº»çƒ¦ï¼Ÿè¿™ä¸ªå·¥å…·ç±»ç®€å•çš„ç»™ä½ å°è£…äº†ä¸€ä¸‹è®¡æ—¶ï¼Œä¸”è‡ªåŠ¨è®¡ç®—å·®å€¼ã€‚å¹¶ä¸”è®¡æ—¶çš„å‰åå€¼åœ¨ä¸åŒçš„çº¿ç¨‹ä¸­ç›¸äº’ç‹¬ç«‹ï¼Œ(é€šè¿‡`ThreadLocal`æ§åˆ¶)

```java
/**
     * è®°å½•ä¸€ä¸ªæ—¶é—´
     */
    public static long record();

/**
     * è·å–ä¸Šæ¬¡è®¡æ—¶æ—¶é—´
     */
    public static long getLastTime();

    /**
     * è·å–ä¸Šæ¬¡è®¡æ—¶æ—¶é—´å¹¶æ¸…é™¤
     */
    public static long getLastTimeAndRemove();

    /**
     * è¿”å›å½“å‰ä¸ä¸Šæ¬¡çš„æ—¶é—´å·®<br>
     * å¦‚æœä¸Šæ¬¡æ²¡æœ‰æ—¶é—´å·®ï¼Œåˆ™æ ¹æ®å½“å‰è®¡æ—¶åçš„è®¡æ—¶æ—¶é—´åšè‡ªå®šä¹‰å¤„ç†
     */
    public static long difference(Function<Long, Long> orElse);

    /**
     * è¿”å›å½“å‰ä¸ä¸Šæ¬¡çš„æ—¶é—´å·®<br>
     * å¦‚æœæ²¡æœ‰è®¡æ—¶ï¼Œåˆ™é»˜è®¤è¿”å›-1
     */
    public static long difference();
    /**
     * è¿”å›å½“å‰ä¸ä¸Šæ¬¡çš„æ—¶é—´å·®<br>
     * å¦‚æœæ²¡æœ‰è®¡æ—¶ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸
     */
    public static long differenceOrThrow() ;

```



ä¸€èˆ¬ä½¿ç”¨çš„æ—¶å€™è¿™ä¹ˆç”¨å°±è¡Œäº†ï¼š

```java
		Stopwatch.difference();
        run();
        long d2 = Stopwatch.difference();

        // è¿™ä¸ªd2 å·²ç»è®¡ç®—å®Œäº†å·®å€¼äº†
        System.out.println(d2);
```















## ç»“å°¾

æ²¡å•¥ä¸œè¥¿äº†ï¼Œä»¥ä¸Šç›®å‰å°±æ˜¯å…¨éƒ¨äº†ã€‚æ²¡æœ‰ä»€ä¹ˆä¸­å¿ƒæ€æƒ³ï¼Œæ²¡æœ‰ä»€ä¹ˆæ ¸å¿ƒå†…å®¹ï¼Œå°±æ˜¯ä¸€ä¸ªä¹±ä¸ƒå…«ç³Ÿå·¥å…·ç±»å¤§æ‚çƒ©è€Œå·²ã€‚

